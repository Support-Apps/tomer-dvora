<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="Content-Language" content="he">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>תּוֹמֵר דְּבוֹרָה - מסע החיים</title>
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Amatic+SC:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Varela+Round&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Karantina:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        @font-face {
            font-family: 'GveretLevin';
            src: url('data:font/otf;base64,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AmECaAJvAnYCfAKDAsIC43VuaTA1RDAwNUU5dW5pMDVGMHVuaTA1RjF1bmkwNUYydW5pRkI0RnVuaTA1RDB1bmlGQjJFdW5pRkIyRnVuaUZCMzB1bmkwNUQxdW5pRkIzMXVuaUZCNEN1bmkwNUQydW5pRkIzMnVuaTA1RDN1bmlGQjMzdW5pMDVENHVuaUZCMzR1bmkwNUQ1dW5pRkIzNXVuaUZCNEJ1bmkwNUQ2dW5pRkIzNnVuaTA1RDd1bmkwNUQ4dW5pRkIzOHVuaTA1RDl1bmlGQjM5dW5pMDVEQXVuaUZCM0F1bmkwNURCdW5pRkIzQnVuaUZCNER1bmkwNURDdW5pRkIzQ3VuaTA1RER1bmkwNURFdW5pRkIzRXVuaTA1REZ1bmkwNUUwdW5pRkI0MHVuaTA1RTF1bmlGQjQxdW5pMDVFMnVuaTA1RTN1bmlGQjQzdW5pMDVFNHVuaUZCNDR1bmlGQjRFdW5pMDVFNXVuaTA1RTZ1bmlGQjQ2dW5pMDVFN3VuaUZCNDd1bmkwNUU4dW5pRkI0OHVuaTA1RTl1bmlGQjJBdW5pRkIyQnVuaUZCMkN1bmlGQjJEdW5pRkI0OXVuaTA1RUF1bmlGQjRBdW5pRkIxRnVuaTA1RjN1bmkwNUY0dW5pMDVCRUV1cm91bmkyMEFBdW5pMjBBQS5zczAxdW5pMjEzNXVuaTA1QzF1bmkwNUIwdW5pMDVCMXVuaTA1QjJ1bmkwNUIzdW5pMDVCNHVuaTA1QjV1bmkwNUI2dW5pMDVCN3VuaTA1Qjh1bmkwNUI5dW5pMDVCQXVuaTA1QkJ1bmkwNUJDdW5pMDVCRnVuaTA1QzJ1bmkwNUM3c3BhY2VyMDAxLjEwMENvcHlyaWdodCBcKGNcKSAyMDE2LTIwMjIgYnkgQWxlZkFsZWZBbGVmLiBBbGwgcmlnaHRzIHJlc2VydmVkLkd2ZXJldCBMZXZpbiBBbGVmQWxlZkFsZWYgUmVndWxhcgAAAQABAAGHQAARCQAPAAANAAAbAQACAAAgAAByAAB0AAALAAAEAAAQAAA9AAAJAQBcAABeAAA8AAA+AAAOAABvAACJAABAAAB1AQBpAAB3AABBAAAIAAADAABoAAHIAgAFAAHLAwAMAACmAACoAACfAAAeAQAdAABfAAA/AAAGAAAhAAAHAACqAAChAABdAAHP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ANwBEwABAXkCJgABAC4CJgABABIAAAABACIBSwABANQCJgABACUCJgABAM0AAAABARwBEwABAWsCJgABAHMAAAABARIBwAABATACJgABACYByQABAG4BEwABADn/awAB//MBEwABAMUCJgABAB4CJgABAMwAAAABARsBEwABAWoCJgABAGMB8AABAJL/vQABAQMBEwABAasCJgABABIB/AABAEwAAAABADwBPAABAOoCJgABACICJgABAMj/5gABAXwBvQABAYwCbQABAAwCAAABADYAAAABAIUBEwABATMCdQABAGMCJgABAKT/6AABALIAtQABAXUCbwAB//ECGQABAS4AMgABATsBagABAVsCJgABACECFQABAQz/9QABAPQBJwABAWECJgABADwCAQABAQgAAAABAVEBzgABATUCJgABABoB5wABAKQB8gABAmoCEwABAPcAJQABAN8AvgABAS4CJgABACcCDQAFAAAAAQAIAAEADAAcAAQAJgCyAAIAAgCDAJAAAACSAJIADgABAAMAAwAEAAUADwAAAD4AAABEAAAASgAAAEoAAABQAAAAVgAAAFwAAABiAAAAaAADAG4AAwBuAAAAdAABAHoAAgCAAAAAhgABARcATwABATIATQABAUIATwABAScAOAABARQAOAABASUASgABAUsARQABAUkASAABAVIBmwABAL4AVAABAQIBTgABAS0BsQABASwATAADAAgASgB0AAIAEgAYAB4AJAAqADAANgA8AAEA6P/6AAEA/AFwAAEBwQJtAAEBvwI+AAH////6AAEAEwFwAAEA2AJtAAEA1gI+AAIAVABaAGAAZgASABgAHgAkAAEAzv/6AAEA4gFwAAEBpwJtAAEBpQI+AAIAEgAYAB4AJAAqADAANgA8AAEA7gAAAAEA/QCLAAEBjAImAAEBPAImAAEAHwAAAAEALgCLAAEAvQImAAEAbQImAAEAAAAKAFAAsgACREZMVAAOaGVicgAgAAQAAAAA//8ABAAAAAMABgAJAAoAAUlXUiAAGAAA//8ABAABAAQABwAKAAD//wAEAAIABQAIAAsADGFhbHQASmFhbHQASmFhbHQASmRsaWcAUGRsaWcAUGRsaWcAUHNhbHQAVnNhbHQAVnNhbHQAVnNzMDEAXHNzMDEAXHNzMDEAXAAAAAEAAAAAAAEAAQAAAAEAAgAAAAEAAwAEAFYACgBWAFYABAAIAAEACAABADoAAwAMAB4AMAACAAYADAAGAAIAIwACAAIAOgACAAYADAADAAIAFAAEAAIAHAABAAQABQACABwAAQADAAcAFAAcAAEAAAABAAgAAQAGAAEAAQABAHA=') format('opentype');
            font-weight: normal;
            font-style: normal;
        }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Heebo', sans-serif;
            background: #fff5f7;
            color: #2d1b2e;
            padding: 20px;
            min-height: 100vh;
        }
        body.dark-mode {
            background: #1a1625;
            color: #ffffff;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        h1 {
            font-size: 2.5em;
            color: #f48fb1;
            text-align: center;
            margin-bottom: 5px;
            font-weight: 700;
            font-family: 'Varela Round', sans-serif;
            letter-spacing: 1px;
        }
        .subtitle {
            text-align: center;
            color: #8b7f8e;
            margin-bottom: 20px;
            font-size: 1.3em;
            font-family: 'Amatic SC', cursive;
            font-weight: 700;
        }
        
        
        body.dark-mode #hebrew-date-picker {
            color: white !important;
        }
        body.dark-mode input[type="date"] {
            color: white !important;
            background: #2a2435 !important;
        }
        body.dark-mode input[type="date"]::-webkit-calendar-picker-indicator {
            filter: invert(1);
        }

        body.dark-mode .subtitle {
            color: #b8a5c9;
        }
        .controls {
            display: flex;
            gap: 8px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            align-items: center;
        }
        .control-btn, .date-box {
            background: white;
            border: 2px solid #98d8c8;
            border-radius: 10px;
            padding: 8px 15px;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.9em;
            display: flex;
            align-items: center;
            gap: 6px;
            flex: 1;
            justify-content: center;
            color: #2d1b2e;
            font-family: 'Heebo', sans-serif;
        }
        body.dark-mode .control-btn,
        body.dark-mode .date-box {
            background: #2a2435;
            border-color: #4a4055;
            color: white;
        }
        .date-box {
            flex-direction: row;
            align-items: center;
            padding: 8px 10px;
        }
        .tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 20px;
            overflow-x: auto;
        }
        .tab {
            background: white;
            border: 2px solid #ffe4e9;
            padding: 10px 20px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            white-space: nowrap;
            color: #8b7f8e;
            font-family: 'Heebo', sans-serif;
        }
        body.dark-mode .tab {
            background: #2a2435;
            border-color: #4a4055;
            color: #b8a5c9;
        }
        .tab.active {
            background: #98d8c8;
            border-color: #98d8c8;
            color: white;
        }
        .whatsapp-btn {
            background: transparent;
            color: #25D366;
            border: none;
            padding: 4px;
            cursor: pointer;
            font-size: 1.8em;
            display: inline-flex;
            align-items: center;
            transition: transform 0.2s;
        }
        .whatsapp-btn:hover {
            transform: scale(1.2);
        }
        .email-btn {
            background: transparent;
            color: #EA4335;
            border: none;
            padding: 4px;
            cursor: pointer;
            font-size: 1.8em;
            display: inline-flex;
            align-items: center;
            transition: transform 0.2s;
        }
        .email-btn:hover {
            transform: scale(1.2);
        }
        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            position: absolute;
            animation: confetti-fall 3s linear forwards;
            z-index: 10000;
        }
        @keyframes confetti-fall {
            to {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }
        .firework {
            position: fixed;
            width: 3px;
            height: 3px;
            border-radius: 50%;
            animation: firework-burst 1s ease-out forwards;
            z-index: 10000;
        }
        @keyframes firework-burst {
            0% {
                opacity: 1;
                transform: translate(0, 0);
            }
            100% {
                opacity: 0;
                transform: translate(var(--x), var(--y));
            }
        }
        .card {
            background: white;
            border: 2px solid #ffe4e9;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 20px;
        }
        body.dark-mode .card {
            background: #2a2435;
            border-color: #4a4055;
        }
        .stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }
        .stat-box {
            text-align: center;
        }
        .stat-number {
            font-size: 1.8em;
            font-weight: 700;
        }
        .stat-number.completed { color: #98d8c8; }
        .stat-number.streak { color: #f48fb1; }
        .stat-number.percent { color: #d4af37; }
        .stat-label {
            font-size: 0.8em;
            color: #8b7f8e;
        }
        body.dark-mode .stat-label {
            color: #b8a5c9;
        }
        .progress-map {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(35px, 1fr));
            gap: 8px;
            margin: 30px 0 20px 0;
            position: relative;
            overflow: visible;
            padding: 10px;
        }
        .day-circle {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7em;
            font-weight: 600;
            cursor: pointer;
            border: 2px solid #ffe4e9;
            background: white;
            position: relative;
            color: #8b7f8e;
        }
        body.dark-mode .day-circle {
            background: #2a2435;
            border-color: #4a4055;
            color: #b8a5c9;
        }
        .day-circle.completed {
            background: #98d8c8;
            color: white;
            border-color: #98d8c8;
        }
        .day-circle.current {
            border: 3px solid #d4af37;
            box-shadow: 0 0 8px rgba(212, 175, 55, 0.4);
        }
        .tooltip {
            position: absolute;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            background: white;
            border: 2px solid #ffe4e9;
            padding: 12px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            z-index: 1000;
            min-width: 200px;
            max-width: 250px;
            display: none;
            pointer-events: none;
            white-space: normal;
        }
        
        /* Fix tooltip overflow on mobile */
        @media (max-width: 768px) {
            .tooltip {
                position: fixed;
                bottom: auto;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                max-width: 90vw;
                min-width: auto;
                width: 280px;
            }
        }
        
        body.dark-mode .tooltip {
            background: #1a1625;
            border-color: #4a4055;
            color: white;
        }
        .day-circle:hover .tooltip {
            display: block;
        }
        .middot-boxes {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin: 20px 0;
        }
        .middah-box {
            padding: 15px;
            border-radius: 10px;
            border: 2px solid;
            background: white;
        }
        body.dark-mode .middah-box {
            background: #2a2435;
        }
        .middah-box.avoid {
            border-color: #ffb3c1;
        }
        .middah-box.do-good {
            border-color: #98d8c8;
        }
        .middah-label {
            display: inline-block;
            color: white;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.8em;
            font-weight: 600;
            margin-bottom: 8px;
        }
        .middah-label.avoid {
            background: #ffb3c1;
        }
        .middah-label.do-good {
            background: #98d8c8;
        }
        .middah-text {
            font-size: 1.1em;
            font-weight: 700;
            color: #2d1b2e;
            margin-bottom: 10px;
        }
        body.dark-mode .middah-text {
            color: white;
        }
        .example-text {
            font-size: 0.9em;
            color: #8b7f8e;
            font-style: italic;
            margin-top: 8px;
        }
        .reflection-box {
            margin-top: 20px;
            padding: 15px;
            background: #fff5f7;
            border-radius: 10px;
            border: 2px solid #ffe4e9;
        }
        body.dark-mode .reflection-box {
            background: #1a1625;
            border-color: #4a4055;
        }
        .reflection-box textarea {
            width: 100%;
            min-height: 80px;
            padding: 10px;
            border: 2px solid #ffe4e9;
            border-radius: 8px;
            font-family: 'Heebo', sans-serif;
            font-size: 0.9em;
            resize: vertical;
        }
        body.dark-mode .reflection-box textarea {
            background: #2a2435;
            border-color: #4a4055;
            color: white;
        }
        .save-btn {
            background: #98d8c8;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1em;
            width: 100%;
            margin-top: 20px;
            font-family: 'Heebo', sans-serif;
        }
        .save-btn:hover {
            opacity: 0.9;
        }
        .save-btn.secondary {
            background: #d4af37;
        }
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.6);
            z-index: 999;
            align-items: center;
            justify-content: center;
        }
        .modal.show {
            display: flex;
        }
        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
            max-width: 400px;
            width: 90%;
            text-align: center;
            border: 3px solid #f48fb1;
            position: relative;
        }
        body.dark-mode .modal-content {
            background: #1a1625;
            color: white;
        }
        .close-btn {
            position: absolute;
            top: 8px;
            right: 8px;
            background: #ffe4e9;
            border: none;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.4em;
            font-weight: 700;
            color: #8b7f8e;
        }
        body.dark-mode .close-btn {
            background: #4a4055;
            color: white;
        }
        .form-group {
            margin-bottom: 15px;
            text-align: right;
        }
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #8b7f8e;
        }
        .form-group input {
            width: 100%;
            padding: 10px;
            border: 2px solid #ffe4e9;
            border-radius: 8px;
            font-family: 'Heebo', sans-serif;
            font-size: 0.9em;
        }
        body.dark-mode .form-group input {
            background: #2a2435;
            border-color: #4a4055;
            color: white;
        }
        .family-list, .contact-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        .family-card, .contact-card {
            background: white;
            padding: 15px;
            border-radius: 10px;
            border: 2px solid #98d8c8;
            position: relative;
        }
        body.dark-mode .family-card,
        body.dark-mode .contact-card {
            background: #2a2435;
            border-color: #4a4055;
        }
        .family-card h3, .contact-card h3 {
            color: #98d8c8;
            margin-bottom: 10px;
        }
        .delete-btn {
            position: absolute;
            top: 10px;
            left: 10px;
            background: #ffb3c1;
            border: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            cursor: pointer;
            color: white;
            font-size: 1em;
        }
        .add-btn {
            background: #d4af37;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            margin-top: 15px;
            width: 100%;
            font-family: 'Heebo', sans-serif;
        }
        .challenge-card {
            background: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 15px;
            border: 2px solid #ffe4e9;
        }
        body.dark-mode .challenge-card {
            background: #2a2435;
            border-color: #4a4055;
        }
        .challenge-card h3 {
            margin-bottom: 10px;
        }
        .challenge-card.joined {
            border-color: #98d8c8;
            background: #f0faf8;
        }
        body.dark-mode .challenge-card.joined {
            background: #1a2625;
        }
        .history-item {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 15px;
            border: 2px solid #98d8c8;
        }
        body.dark-mode .history-item {
            background: #2a2435;
            border-color: #4a4055;
        }
        .progress-bar {
            height: 10px;
            background: #ffe4e9;
            border-radius: 5px;
            overflow: hidden;
            margin-top: 10px;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #ffb3c1, #98d8c8);
            transition: width 0.5s ease;
        }
        .share-btn {
            background: #f48fb1;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.9em;
            margin-top: 10px;
            font-family: 'Heebo', sans-serif;
        }
        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 10px;
        }
        .checkbox-group input[type="checkbox"] {
            width: 18px;
            height: 18px;
        }
        .insights-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        .insight-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            border: 2px solid #ffe4e9;
            text-align: center;
        }
        body.dark-mode .insight-card {
            background: #2a2435;
            border-color: #4a4055;
        }
        .insight-number {
            font-size: 2.5em;
            font-weight: 700;
            color: #f48fb1;
            margin-bottom: 10px;
        }
        .empty-state {
            text-align: center;
            padding: 40px;
            color: #8b7f8e;
        }
        
        /* Mobile responsive fixes */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
                margin: 10px;
            }
            
            .card {
                padding: 15px;
                margin: 10px 0;
            }
            
            #visual-spiral {
                width: 100%;
                max-width: 100%;
                padding: 10px;
            }
            
            .save-btn {
                font-size: 0.9em;
                padding: 12px 20px;
            }
            
            /* Challenge tables mobile fix */
            .challenge-card table {
                table-layout: fixed;
                width: 100%;
            }
            
            .challenge-card th:first-child,
            .challenge-card td:first-child {
                width: 35px !important;
                min-width: 35px !important;
            }
            
            .challenge-card th:nth-child(2),
            .challenge-card td:nth-child(2) {
                width: 85px !important;
                min-width: 85px !important;
            }
            
            .challenge-card th:nth-child(3),
            .challenge-card td:nth-child(3) {
                width: auto !important;
            }
            
            .challenge-card input[type="date"] {
                width: 75px !important;
                font-size: 10px !important;
                padding: 2px !important;
            }
            
            .challenge-card textarea {
                width: 100% !important;
                min-height: 45px !important;
                font-size: 11px !important;
                box-sizing: border-box !important;
            }
            
            .challenge-card textarea::placeholder {
                font-size: 10px !important;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div style="text-align: right; font-size: 0.9em; color: #8b7f8e; margin-bottom: -10px;">בס"ד</div>
        <h1>תּוֹמֵר דְּבוֹרָה</h1>
        <p class="subtitle">אלה מסעי בני ישראל</p>

        <div class="controls">
            <div class="date-box" style="display: flex; align-items: center; gap: 5px; min-width: 130px;">
                <button onclick="openHebrewCalendar()" style="background: none; border: none; cursor: pointer; font-size: 1.1em; padding: 0;">📅</button>
                <input type="text" id="hebrew-date-picker" class="date-value" style="border: none; background: transparent; font-weight: 600; font-size: 0.95em; cursor: pointer; width: 100%; text-align: center; font-family: 'Heebo', sans-serif;" value="י״ט בכסלו" readonly>
            </div>
            <div class="date-box">
                <input type="date" id="gregorian-date-picker" class="date-value" value="2025-12-10" style="border: none; background: transparent; font-weight: 600; font-size: 0.95em; cursor: pointer; width: 100%; text-align: center; font-family: 'Heebo', sans-serif;">
            </div>
            <button class="control-btn" onclick="toggleDarkMode()">
                <span id="theme-icon">🌙</span>
                <span id="theme-text">כהה</span>
            </button>
        </div>

        <!-- Hebrew Calendar Modal -->
        <div id="hebrew-calendar-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; justify-content: center; align-items: center;">
            <div style="background: white; border-radius: 15px; padding: 20px; max-width: 350px; width: 90%; max-height: 80vh; overflow-y: auto;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                    <button onclick="changeHebrewMonth(-1)" style="background: #f48fb1; color: white; border: none; border-radius: 50%; width: 30px; height: 30px; cursor: pointer;">◀</button>
                    <h3 id="hebrew-calendar-title" style="margin: 0; color: #f48fb1;"></h3>
                    <button onclick="changeHebrewMonth(1)" style="background: #f48fb1; color: white; border: none; border-radius: 50%; width: 30px; height: 30px; cursor: pointer;">▶</button>
                </div>
                <div id="hebrew-calendar-grid" style="display: grid; grid-template-columns: repeat(7, 1fr); gap: 5px; text-align: center;"></div>
                <button onclick="closeHebrewCalendar()" style="margin-top: 15px; width: 100%; padding: 10px; background: #f48fb1; color: white; border: none; border-radius: 10px; cursor: pointer;">סגור</button>
            </div>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="showTab('intro')">🏠 מבוא</button>
            <button class="tab" onclick="showTab('instructions')">📖 הוראות</button>
            <button class="tab" onclick="showTab('middot-table')">📋 טבלת המידות</button>
            <button class="tab" onclick="showTab('journey')">🎯 מסע</button>
            <button class="tab" onclick="showTab('community')">👥 קהילה</button>
            <button class="tab" onclick="showTab('family')">❤️ משפחה</button>
            <button class="tab" onclick="showTab('insights')">📈 תובנות</button>
            <button class="tab" onclick="showTab('visual')">🗺️ מסע ויזואלי</button>
            <button class="tab" onclick="showTab('history')">📖 הסטוריה</button>
        </div>

        <!-- Intro Tab -->
        <div id="intro-tab" class="card">
            <div style="text-align: center; padding: 30px 20px;">
                <p style="margin-bottom: 40px;">
                    <span style="font-family: 'GveretLevin', cursive; font-size: 1.7em; color: #f48fb1; letter-spacing: 0.08em;">"הַכֹּל הוֹלֵךְ אַחַר הַמִּידּוֹת"</span>
                    <br><span style="font-size: 0.9em; color: #7c6f82;">(ספר חרדים)</span>
                </p>
                
                <div style="background: linear-gradient(135deg, #fff5f7 0%, #fce4ec 100%); border-radius: 15px; padding: 30px; margin: 20px auto; max-width: 500px;">
                    <p style="font-size: 1.05em; line-height: 2; color: #5d4e64; text-align: right;">
                        יג' מידות הרחמים שהקדוש ברוך הוא נוהג עם האדם הם שלוש עשרה מרכיבי אהבה המרכיבים את האחדות ובונים אותנו מחדש לקראת ה"חתימה". "מי אל כמוך, נשא עון, ועובר על פשע, לשארית נחלתו, לא החזיק לעד אפו, כי חפץ חסד הוא, ישוב ירחמנו, יכבוש עונותינו, ותשליך במצולות ים כל חטאתם, תתן אמת ליעקב, חסד לאברהם, אשר נשבעת לאבותינו, מימי קדם" <span style="font-size: 0.9em; color: #8b7f8e;">(מיכה, ז, יח-כ)</span>
                    </p>
                </div>

                <button onclick="showTab('instructions')" style="
                    background: linear-gradient(135deg, #f48fb1 0%, #f06292 100%);
                    color: white;
                    border: none;
                    padding: 15px 40px;
                    font-size: 1.2em;
                    border-radius: 25px;
                    cursor: pointer;
                    margin-top: 30px;
                    box-shadow: 0 4px 15px rgba(244, 143, 177, 0.4);
                ">
                    📖 להוראות שימוש באפליקציה
                </button>
            </div>
        </div>

        <!-- Instructions Tab -->
        <div id="instructions-tab" class="card" style="display: none;">
            <div style="text-align: center; padding: 20px;">
                <h2 style="color: #f48fb1; margin-bottom: 25px;">📖 הוראות שימוש</h2>
                
                <div style="background: white; border-radius: 15px; padding: 25px; margin: 20px 0; text-align: right; border-right: 4px solid #98d8c8;">
                    <p style="line-height: 2.2; color: #5d4e64; font-size: 1.05em;">
                        📋 בחרו מידה שרלוונטית לכם כרגע
                        <br>
                        🎯 לחיצה על המידה תעביר אתכם ללשונית מסע ולעבודה על המידה הנבחרת
                        <br>
                        📖 לכל מידה ישנו הסבר קצר ומתחת להסבר ישנה אפשרות כתיבה
                        <br>
                        ✅ ניתן להוסיף משבצות בכל פעם שעובדים על מידה
                        <br>
                        💾 לחיצה על כפתור 'שמור והמשך' מעבירה למידה הבאה
                        <br>
                        🔄 כפתור 'התחל מחדש' מוחק את ההתקדמות של אותו היום
                        <br>
                        👨‍👩‍👧‍👦 ניתן לשתף עם בני משפחה ולהצטרף לאתגרים אישיים או משותפים
                        <br>
                        📖 בלשונית הסטוריה ניתן לצפות בהתקדמות, לשמור כקובץ ולשתף למייל
                        <br>
                        🔄 אין סדר קבוע - זהו מסע החיים
                    </p>
                </div>

                <button onclick="showTab('middot-table')" style="
                    background: linear-gradient(135deg, #f48fb1 0%, #f06292 100%);
                    color: white;
                    border: none;
                    padding: 15px 40px;
                    font-size: 1.2em;
                    border-radius: 25px;
                    cursor: pointer;
                    margin-top: 20px;
                    box-shadow: 0 4px 15px rgba(244, 143, 177, 0.4);
                ">
                    ✨ התחילו במסע
                </button>
            </div>
        </div>

        <div id="journey-tab" class="card" style="display: none;">
            <h2 style="color: #f48fb1; margin-bottom: 20px; text-align: center; font-weight: 700;">
                <span id="current-day-title-hebrew">מידה א'</span>
            </h2>

            <div class="stats">
                <div class="stat-box">
                    <div class="stat-number completed" id="completed-stat">0</div>
                    <div class="stat-label">הושלמו</div>
                </div>
                <div class="stat-box">
                    <div class="stat-number streak" id="streak-stat">0</div>
                    <div class="stat-label">רצף</div>
                </div>
                <div class="stat-box">
                    <div class="stat-number percent" id="percent-stat">0%</div>
                    <div class="stat-label">התקדמות</div>
                </div>
            </div>

            <div class="progress-map" id="progress-map"></div>

            <div style="display: flex; align-items: center; justify-content: center; gap: 15px; margin-top: 20px;">
                <button onclick="previousDay()" style="background: #98d8c8; color: white; border: none; padding: 10px 20px; border-radius: 10px; cursor: pointer; font-weight: 600; font-family: 'Heebo', sans-serif; font-size: 0.9em;">▶ מידה קודמת</button>
                <button onclick="nextDay()" style="background: #98d8c8; color: white; border: none; padding: 10px 20px; border-radius: 10px; cursor: pointer; font-weight: 600; font-family: 'Heebo', sans-serif; font-size: 0.9em;">מידה הבאה ◀</button>
            </div>

            <div style="margin-top: 20px;">
                <div style="background: linear-gradient(135deg, #fff5f7 0%, #fce4ec 100%); border: 2px solid #f48fb1; border-radius: 15px; padding: 25px; text-align: center;">
                    <div style="font-size: 1.5em; color: #f48fb1; font-weight: 600; margin-bottom: 15px;" id="middah-text">מִי אֵל כָּמוֹךָ</div>
                    <div style="padding: 15px; background: white; border-radius: 10px; font-size: 0.95em; color: #5d4e64; text-align: right; min-height: 60px; white-space: pre-line; line-height: 1.8;" id="middah-explanation">
                        <!-- הסבר על המידה יתווסף כאן -->
                    </div>
                </div>
            </div>

            <!-- Reflection box - always visible -->
            <div style="margin-top: 15px;">
                <div style="background: linear-gradient(135deg, #fff5f7 0%, #fce4ec 100%); border: 2px solid #f48fb1; border-radius: 15px; padding: 20px;">
                    <label style="font-weight: 600; margin-bottom: 10px; display: block; font-size: 0.95em; color: #f48fb1; text-align: right;">האם המידה הופיעה היום? אם כן, כיצד פעלת?</label>
                    <textarea id="middah-reflection" placeholder="רשום את המחשבות שלך..." style="width: 100%; min-height: 100px; padding: 12px; border: 2px solid #f48fb1; border-radius: 10px; font-family: 'Heebo', sans-serif; font-size: 0.95em; resize: vertical; text-align: right; background: white;"></textarea>
                </div>
            </div>

            <!-- Additional notes container - for extra reflection boxes -->
            <div id="additional-notes-container"></div>

            <div style="display: flex; gap: 10px; margin-top: 20px;">
                <button class="save-btn" onclick="completeDay()" style="flex: 1; background: #98d8c8;">שמור והמשך</button>
                <button class="save-btn" onclick="addReflectionBox()" style="flex: 1; background: #d4af37;">➕ הוסף הערה</button>
                <button class="save-btn" onclick="resetDay()" style="flex: 1; background: #f48fb1;">התחל מחדש</button>
            </div>
            
            <!-- Reset Journey button - only shown on day 13 -->
            <div id="reset-journey-container" style="display: none; margin-top: 10px;">
                <button class="save-btn" onclick="resetJourney()" style="width: 100%; background: #f8bbd9; color: white;">🔄 התחל מסע מחדש</button>
            </div>
            
            <!-- Hidden elements for compatibility -->
            <span id="current-day-title" style="display:none;">1</span>
        </div>

        <!-- Middot Table Tab -->
        <div id="middot-table-tab" class="card" style="display: none;">
            <h2 style="text-align: center; margin-bottom: 30px; color: #f48fb1;">📋 שלוש עשרה המידות</h2>
            
            <div id="middot-single-list"></div>
        </div>

        <div id="community-tab" class="card" style="display: none;">
            <h2 style="text-align: center; margin-bottom: 20px; color: #f48fb1;">אתגרי קהילה</h2>
            
            <div style="margin-bottom: 30px; padding-bottom: 20px; border-bottom: 2px solid #ffe4e9;">
                <h3 style="color: #f48fb1; margin-bottom: 15px; text-align: center;">שתף את האתגרים עם חברים</h3>
                <div id="contacts-list" class="contact-list"></div>
                <div style="display: flex; gap: 10px; margin-top: 15px;">
                    <button class="add-btn" onclick="openAddContactModal()" style="background: #d4af37; flex: 1;">➕ הוסף</button>
                    <button class="add-btn" onclick="deleteContact()" style="background: #ffb3c1; flex: 1;">🗑️ מחק איש קשר</button>
                </div>
            </div>

            <div class="challenge-card" id="challenge-1">
                <h3 style="color: #98d8c8;">אתגר שמירת הלשון - 7 ימים</h3>
                <p style="margin-bottom: 10px;">התחייבות לשבוע ללא לשון הרע</p>
                <button class="save-btn" onclick="joinChallenge(1)" style="background: #d4af37;">הצטרף לאתגר</button>
                
                <!-- Tracking Table -->
                <div style="margin-top: 20px;">
                    <h4 style="color: #98d8c8; margin-bottom: 10px;">📝 מעקב יומי</h4>
                    <table style="width: 100%; border-collapse: collapse; direction: rtl;">
                        <thead>
                            <tr>
                                <th style="background: #d4af37; color: white; padding: 10px; border: 1px solid #ddd; font-weight: normal;">יום</th>
                                <th style="background: #98d8c8; color: white; padding: 10px; border: 1px solid #ddd; font-weight: normal;">תאריך</th>
                                <th style="background: #f48fb1; color: white; padding: 10px; border: 1px solid #ddd; font-weight: normal;">רשימות יומיות</th>
                            </tr>
                        </thead>
                        <tbody id="challenge-1-tbody"></tbody>
                    </table>
                    <div style="display: flex; gap: 10px; margin-top: 15px;">
                        <button class="save-btn" onclick="saveChallenge(1)" style="flex: 1; background: #98d8c8;">💾 שמור כקובץ</button>
                        <button class="save-btn" onclick="shareChallenge(1)" style="flex: 1; background: #f48fb1;"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="#25D366" style="vertical-align: middle; margin-left: 5px;"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg> שיתוף</button>
                    </div>
                </div>
            </div>

            <div class="challenge-card" id="challenge-2">
                <h3 style="color: #d4af37;">מסע תיקון המידות המלא - 42 יום</h3>
                <p style="margin-bottom: 10px;">המסע המלא עם הקהילה</p>
                <button class="save-btn" onclick="joinChallenge(2)" style="background: #d4af37;">הצטרף לאתגר</button>
                
                <div style="margin-top: 20px;">
                    <h4 style="color: #d4af37; margin-bottom: 10px;">📝 מעקב יומי</h4>
                    <table style="width: 100%; border-collapse: collapse; direction: rtl;">
                        <thead>
                            <tr>
                                <th style="background: #d4af37; color: white; padding: 10px; border: 1px solid #ddd; font-weight: normal;">יום</th>
                                <th style="background: #98d8c8; color: white; padding: 10px; border: 1px solid #ddd; font-weight: normal;">תאריך</th>
                                <th style="background: #f48fb1; color: white; padding: 10px; border: 1px solid #ddd; font-weight: normal;">רשימות יומיות</th>
                            </tr>
                        </thead>
                        <tbody id="challenge-2-tbody"></tbody>
                    </table>
                    <div style="display: flex; gap: 10px; margin-top: 15px;">
                        <button class="save-btn" onclick="saveChallenge(2)" style="flex: 1; background: #98d8c8;">💾 שמור כקובץ</button>
                        <button class="save-btn" onclick="shareChallenge(2)" style="flex: 1; background: #f48fb1;"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="#25D366" style="vertical-align: middle; margin-left: 5px;"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg> שיתוף</button>
                    </div>
                </div>
            </div>

            <div class="challenge-card" id="challenge-3">
                <h3 style="color: #98d8c8;">אתגר הכרת הטובה - 14 יום</h3>
                <p style="margin-bottom: 10px;">כתיבת 3 דברים שאנחנו אסירי תודה עליהם מדי יום</p>
                <button class="save-btn" onclick="joinChallenge(3)" style="background: #d4af37;">הצטרף לאתגר</button>
                
                <div style="margin-top: 20px;">
                    <h4 style="color: #98d8c8; margin-bottom: 10px;">📝 מעקב יומי</h4>
                    <table style="width: 100%; border-collapse: collapse; direction: rtl;">
                        <thead>
                            <tr>
                                <th style="background: #d4af37; color: white; padding: 10px; border: 1px solid #ddd; font-weight: normal;">יום</th>
                                <th style="background: #98d8c8; color: white; padding: 10px; border: 1px solid #ddd; font-weight: normal;">תאריך</th>
                                <th style="background: #f48fb1; color: white; padding: 10px; border: 1px solid #ddd; font-weight: normal;">רשימות יומיות</th>
                            </tr>
                        </thead>
                        <tbody id="challenge-3-tbody"></tbody>
                    </table>
                    <div style="display: flex; gap: 10px; margin-top: 15px;">
                        <button class="save-btn" onclick="saveChallenge(3)" style="flex: 1; background: #98d8c8;">💾 שמור כקובץ</button>
                        <button class="save-btn" onclick="shareChallenge(3)" style="flex: 1; background: #f48fb1;"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="#25D366" style="vertical-align: middle; margin-left: 5px;"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg> שיתוף</button>
                    </div>
                </div>
            </div>

            <div class="challenge-card" id="challenge-4">
                <h3 style="color: #ffb3c1;">אתגר סבלנות - 21 יום</h3>
                <p style="margin-bottom: 10px;">תרגול סבלנות במצבים מאתגרים</p>
                <button class="save-btn" onclick="joinChallenge(4)" style="background: #d4af37;">הצטרף לאתגר</button>
                
                <div style="margin-top: 20px;">
                    <h4 style="color: #ffb3c1; margin-bottom: 10px;">📝 מעקב יומי</h4>
                    <table style="width: 100%; border-collapse: collapse; direction: rtl;">
                        <thead>
                            <tr>
                                <th style="background: #d4af37; color: white; padding: 10px; border: 1px solid #ddd; font-weight: normal;">יום</th>
                                <th style="background: #98d8c8; color: white; padding: 10px; border: 1px solid #ddd; font-weight: normal;">תאריך</th>
                                <th style="background: #f48fb1; color: white; padding: 10px; border: 1px solid #ddd; font-weight: normal;">רשימות יומיות</th>
                            </tr>
                        </thead>
                        <tbody id="challenge-4-tbody"></tbody>
                    </table>
                    <div style="display: flex; gap: 10px; margin-top: 15px;">
                        <button class="save-btn" onclick="saveChallenge(4)" style="flex: 1; background: #98d8c8;">💾 שמור כקובץ</button>
                        <button class="save-btn" onclick="shareChallenge(4)" style="flex: 1; background: #f48fb1;"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="#25D366" style="vertical-align: middle; margin-left: 5px;"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg> שיתוף</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="family-tab" class="card" style="display: none;">
            <h2 style="text-align: center; margin-bottom: 20px; color: #f48fb1;">מעקב משפחתי</h2>
            <p style="text-align: center; margin-bottom: 10px; color: #8b7f8e; font-size: 0.9em;">
                הוסף בני משפחה ושתף איתם את המסע שלך דרך 
                <span style="color: #25D366; font-size: 1.5em; vertical-align: middle;">
                    <svg width="20" height="20" viewBox="0 0 32 32" fill="currentColor" style="vertical-align: middle;">
                        <path d="M16 0C7.164 0 0 7.164 0 16c0 2.828.736 5.484 2.016 7.812L.096 30.912l7.264-1.888A15.878 15.878 0 0016 32c8.836 0 16-7.164 16-16S24.836 0 16 0zm8.124 22.876c-.344.964-1.716 1.768-2.804 2.008-.736.164-1.696.296-4.92-.996-4.124-1.648-6.788-5.808-6.988-6.076-.196-.268-1.596-2.124-1.596-4.056s1.008-2.876 1.368-3.268c.36-.392.784-.492 1.048-.492.264 0 .524.004.752.012.244.012.572-.092.896.684.328.788 1.12 2.732 1.22 2.932.1.2.164.432.032.7-.132.268-.196.432-.392.668-.196.236-.412.528-.588.708-.196.2-.4.416-.172.816.228.4.996 1.652 2.14 2.676 1.472 1.316 2.716 1.728 3.104 1.92.392.196.62.164.848-.096.228-.264.972-1.136 1.232-1.528.264-.392.524-.328.884-.196.36.132 2.288 1.08 2.68 1.276.392.196.652.296.752.46.1.164.1.944-.244 1.908z"/>
                    </svg>
                </span>
            </p>
            <div id="family-list" class="family-list"></div>
            <div style="display: flex; gap: 10px; margin-top: 15px;">
                <button class="add-btn" onclick="openAddFamilyModal()" style="background: #d4af37; flex: 1;">➕ הוסף</button>
                <button class="add-btn" onclick="deleteFamilyMember()" style="background: #ffb3c1; flex: 1;">🗑️ מחק איש קשר</button>
            </div>
            
            <!-- Share options -->
            <div style="margin-top: 25px; padding: 15px; background: #f0fffe; border-radius: 12px; border: 2px solid #98d8c8;">
                <h4 style="color: #98d8c8; margin: 0 0 15px 0; text-align: center;">שתף עם בני משפחה בוואטסאפ</h4>
                <div style="display: flex; flex-wrap: wrap; gap: 10px; justify-content: center;">
                    <button class="add-btn" onclick="shareWithFamily('challenge')" style="background: #f48fb1; color: white; flex: 1; min-width: 120px;">
                        שתף אתגר
                    </button>
                    <button class="add-btn" onclick="shareWithFamily('middah')" style="background: #d4af37; color: white; flex: 1; min-width: 120px;">
                        שתף מידה
                    </button>
                    <button class="add-btn" onclick="shareWithFamily('all')" style="background: #98d8c8; color: white; flex: 1; min-width: 120px;">
                        שתף הכל
                    </button>
                </div>
            </div>
        </div>

        <div id="insights-tab" class="card" style="display: none;">
            <h2 style="text-align: center; margin-bottom: 20px; color: #f48fb1;">תובנות והתקדמות</h2>
            <div class="insights-grid">
                
            </div>
            
            <div style="margin-top: 30px;">
                <h3 style="color: #f48fb1; margin-bottom: 15px;">רשימות והתבוננות</h3>
                <div class="form-group">
                    <label>תובנות מהמסע:</label>
                    <textarea id="insights-notes" placeholder="כתוב כאן את התובנות והלקחים שלמדת במהלך המסע..." style="width: 100%; min-height: 100px; padding: 10px; border: 2px solid #ffe4e9; border-radius: 8px; font-family: 'Heebo', sans-serif; font-size: 0.9em; resize: vertical;"></textarea>
                </div>
                <div class="form-group">
                    <label>שינויים שהבחנתי בעצמי:</label>
                    <textarea id="changes-notes" placeholder="אילו שינויים חיוביים הבחנת בהתנהגות שלך..." style="width: 100%; min-height: 100px; padding: 10px; border: 2px solid #ffe4e9; border-radius: 8px; font-family: 'Heebo', sans-serif; font-size: 0.9em; resize: vertical;"></textarea>
                </div>
                <button class="save-btn" onclick="saveInsightsNotes()">שמור תובנות</button>
            </div>
        </div>

        <div id="visual-tab" class="card" style="display: none;">
            <h2 style="text-align: center; margin-bottom: 20px; color: #f48fb1; font-weight: 700;">🗺️ המסע הויזואלי</h2>
            <p style="text-align: center; color: #8b7f8e; margin-bottom: 30px;">
                שלוש עשרה מידות הרחמים
            </p>
            
            <div id="visual-spiral" style="position: relative; width: 100%; max-width: 600px; height: auto; aspect-ratio: 1; margin: 0 auto;">
                <!-- Spiral will be rendered here -->
            </div>
            
            <div id="visual-details" style="margin-top: 30px; padding: 20px; background: #fff5f7; border-radius: 12px; display: none;">
                <h3 id="visual-day-title" style="color: #f48fb1; margin-bottom: 15px; text-align: center;"></h3>
                <div style="padding: 20px; background: #ffebef; border-radius: 10px; text-align: center;">
                    <div id="visual-middah-text" style="font-weight: 600; font-size: 1.3em; color: #d81b60; margin-bottom: 10px;"></div>
                    <div id="visual-middah-explanation" style="font-size: 0.95em; color: #5d4e64; text-align: right;"></div>
                </div>
                <div style="text-align: center; margin-top: 15px;">
                    <button class="save-btn" onclick="goToDay(selectedVisualDay)">עבור למידה זו</button>
                </div>
            </div>
        </div>

        <div id="history-tab" class="card" style="display: none;">
            <h2 style="text-align: center; margin-bottom: 20px; color: #f48fb1;">📖 הסטוריה</h2>
            
            <div id="history-list"></div>
            
            <div style="display: flex; gap: 8px; justify-content: center; margin-top: 20px;">
                <button class="save-btn" onclick="exportHistoryToFile()" style="background: #98d8c8; padding: 8px 15px; font-size: 0.9em;">
                    💾 שמור
                </button>
                <button class="save-btn" onclick="shareHistoryWhatsApp()" style="background: #f48fb1; padding: 8px 15px; font-size: 0.9em;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="#25D366" style="vertical-align: middle; margin-left: 3px;"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
                    וואטסאפ
                </button>
            </div>
        </div>
    </div>

    <!-- Celebration Modal -->
    <div id="celebration-modal" class="modal">
        <div class="modal-content">
            <button class="close-btn" onclick="closeModal('celebration-modal')">×</button>
            <div style="font-size: 3em; margin-bottom: 12px;">🎉</div>
            <h2 style="font-size: 1.6em; margin-bottom: 10px; font-weight: 700; color: #f48fb1;">
                כל הכבוד! סיימת את המסע!
            </h2>
            <p style="color: #8b7f8e; margin-bottom: 20px;">
                עברת את כל 13 מידות הרחמים בהצלחה
            </p>
            <button class="save-btn" onclick="viewSummary()">צפה בסיכום</button>
            <button class="save-btn" onclick="saveToHistory()">שמור להסטוריה</button>
            <button class="save-btn secondary" onclick="shareJourney()">שתף את המסע</button>
            <button class="save-btn" onclick="startOver()">התחל מחדש</button>
        </div>
    </div>

    <!-- Add Family Modal -->
    <div id="add-family-modal" class="modal">
        <div class="modal-content">
            <button class="close-btn" onclick="closeModal('add-family-modal')">×</button>
            <h2 style="color: #f48fb1; margin-bottom: 20px;">הוסף בן משפחה</h2>
            <div class="form-group">
                <label>שם:</label>
                <input type="text" id="family-name" placeholder="הכנס שם">
            </div>
            <div class="form-group">
                <label>טלפון:</label>
                <input type="tel" id="family-phone" placeholder="מספר טלפון">
            </div>
            <div class="form-group">
                <label>מידה נוכחית:</label>
                <input type="number" id="family-day" min="0" max="71" value="0">
            </div>
            <div class="checkbox-group">
                <input type="checkbox" id="family-permission">
                <label for="family-permission">לאפשר שיתוף התקדמות</label>
            </div>
            <button class="save-btn" onclick="addFamilyMember()">הוסף</button>
        </div>
    </div>

    <!-- Add Contact Modal -->
    <div id="add-contact-modal" class="modal">
        <div class="modal-content">
            <button class="close-btn" onclick="closeModal('add-contact-modal')">×</button>
            <h2 style="color: #f48fb1; margin-bottom: 20px;">הוסף איש קשר</h2>
            <div class="form-group">
                <label>שם:</label>
                <input type="text" id="contact-name" placeholder="הכנס שם">
            </div>
            <div class="form-group">
                <label>טלפון:</label>
                <input type="tel" id="contact-phone" placeholder="מספר טלפון">
            </div>
            <button class="save-btn" onclick="addContact()">הוסף</button>
        </div>
    </div>

    <script>
const MIDDOT_PAIRS = [
  {day:1,avoid:{he:'מִי אֵל כָּמוֹךָ',en:'Who is like You'},do:{he:'מִי אֵל כָּמוֹךָ',en:'Who is like You'},
   explanations:{avoid:'כיצד עלינו להתייחס אל הזולת ואל עצמנו:\n• נסוגים פיזית אבל לא נסוגים נפשית. עדיין חושבים על האדם שפגע בנו, עדיין מייחלים לאדם שפגע בנו שיזדכך בליבו.\n• עלינו לחשוב כמו הקדוש ברוך הוא, שחושב "אחדות". לקיים לא תשנא את אחיך בלבבך.\n• חשוב מאד לא לעטוף את עצמנו בצדק ולרצות להרוס את הצד השני.\n• גם אם השני משתולל, שישתולל, גם אם הוא ילדותי, שיהיה ילדותי. לזכור שהוא נמצא במסע בדיוק כמונו וגם אנחנו היינו במקומו, או נהיה במקומו.\n• לזכור שאנחנו בעצמנו נוהגים כך כלפי הקדוש ברוך הוא.\n• אפשרי מעט להתנתק פיזית, אבל עדיין להישאר בתוכנו עם כמיהה נפשית שכל הדברים יתאחו.',do:''}},
  {day:2,avoid:{he:'נֹשֵׂא עָוֹן',en:'Bearing sin'},do:{he:'נֹשֵׂא עָוֹן',en:'Bearing sin'},
   explanations:{avoid:'כיצד עלינו להתייחס אל הזולת ואל עצמנו:\n• לשאת עם החבר שלנו את הקשיים שהוא עובר.\n• לנשיאה בעול יש כוח אדיר לרפא אדם אחר. הקדוש ברוך הוא מקיים את זה כלפינו - "עימו אנכי בצרה", והוא נושא איתנו את כל מה שאנחנו עוברים.\n• לשאת כל דבר ביחד, וברגע שנושאים כל דבר ביחד אז זה כבר מתקן.',do:''}},
  {day:3,avoid:{he:'וְעוֹבֵר עַל פֶּשַׁע',en:'Passing over transgression'},do:{he:'וְעוֹבֵר עַל פֶּשַׁע',en:'Passing over transgression'},
   explanations:{avoid:'כיצד עלינו להתייחס אל הזולת ואל עצמנו:\n• לעבור על פשע זה להגיע למצב שאפילו החבר יכול לתקן בעצמו את מה שחברו השחית.\n• לדוגמה: החבר השחית מערכת יחסים עם מישהו אחר, אז אולי אפשר להשלים עבורו.',do:''}},
  {day:4,avoid:{he:'לִשְׁאֵרִית נַחֲלָתוֹ',en:'For the remnant of His heritage'},do:{he:'לִשְׁאֵרִית נַחֲלָתוֹ',en:'For the remnant of His heritage'},
   explanations:{avoid:'כיצד עלינו להתייחס אל הזולת ואל עצמנו:\n• צריך להתייחס לכל אדם כאילו היה הבן שלנו. מה היה קורה אם הבן שלנו היה מקלקל?\n• צריכים להיות מלאי חמלה.',do:''}},
  {day:5,avoid:{he:'לֹא הֶחֱזִיק לָעַד אַפּוֹ',en:'He does not maintain anger'},do:{he:'לֹא הֶחֱזִיק לָעַד אַפּוֹ',en:'He does not maintain anger'},
   explanations:{avoid:'כיצד עלינו להתייחס אל הזולת ואל עצמנו:\n• "אף" - חימה, הכוונה לכעס, לא יחזיק לעד את הכעס שלו.\n• הקדוש ברוך הוא לא בא בטרוניה על בריותיו. הוא אומר "אני מבין שאתם לא מלאכים, אי אפשר למנוע את רגע המשבר".\n• אי אפשר שרגע המשבר לא יהיה מלווה ברגש מר, שיכול להעלות אף וחימה.\n• אל תחזיקו את הכעס יותר מידי. זוגות רבים מחליטים לא לדבר שלושה חודשים, הולכים עם כעס פנימי ולא מצליחים לשחרר, וזה לא טוב.\n• "לעד" זה לא הרבה זמן, זה עד כמה שאפשר לקצר את הזמן.',do:''}},
  {day:6,avoid:{he:'כִּי חָפֵץ חֶסֶד הוּא',en:'For He desires kindness'},do:{he:'כִּי חָפֵץ חֶסֶד הוּא',en:'For He desires kindness'},
   explanations:{avoid:'כיצד עלינו להתייחס אל הזולת ואל עצמנו:\n• לזכור שכל מערכת יחסים שהייתה לנו אי פעם עם כל אדם - התחילה בטוב.\n• "שלום, איך את מרגישה? שמי..." אולי הביאו לנו בפגישה עוגה, אולי קיבלנו איזו מתנה לחג.\n• צריך לזכור את כל הדברים הקטנים בזמן שכועסים.',do:''}},
  {day:7,avoid:{he:'יָשׁוּב יְרַחֲמֵנוּ',en:'He will return and show compassion'},do:{he:'יָשׁוּב יְרַחֲמֵנוּ',en:'He will return and show compassion'},
   explanations:{avoid:'כיצד עלינו להתייחס אל הזולת ואל עצמנו:\n• בדרך כלל הנטיה הטבעית של האדם היא להיזהר, "מי שנכווה ברותחין נזהר בפושרין". לא לאהוב יותר אלא לאהוב פחות, אנו כביכול מנמיכים את דרגת האהבה שלנו.\n• לפעמים אנחנו הופכים את האהבה הראשונה ל"רותחין" ואהבה השניה ל"פושרין". בלב אנו מתהלכים עם המחשבה: "אני כבר מכיר אותו, הוא פגע בי בעבר, אני צריך להיזהר ממנו".\n• המידה הזו אומרת, לא! הפוך. להבין שאם הוא בא אלינו ורוצה אותנו סימן שהוא ראה שאנחנו טובים, סימן שהוא ראה שאנחנו מיוחדים, סימן שהוא רוצה אותנו באמת. אחרת הוא היה ממשיך ועובר מאתנו הלאה. אבל אם הוא היה איתנו במערכת יחסים ופגע בנו סימן שהוא יודע שאנחנו "טוב גמור".',do:''}},
  {day:8,avoid:{he:'יִכְבֹּשׁ עֲוֹנֹותֵינוּ',en:'He will suppress our sins'},do:{he:'יִכְבֹּשׁ עֲוֹנֹותֵינוּ',en:'He will suppress our sins'},
   explanations:{avoid:'כיצד עלינו להתייחס אל הזולת ואל עצמנו:\n• גם אם אנשים היו במערכות יחסים קשות, כשעובר הזמן הם זוכרים יותר את הטוב מאשר את הרע. חולפים עשר/עשרים שנים, צריכים לבדוק אם ניתן לנסות לאחות את הקרעים.\n• אותו הדבר הקדוש ברוך הוא, הוא לא רואה את העבירות כי הוא יודע שזה לא הטבע שלנו.',do:''}},
  {day:9,avoid:{he:'וְתַשְׁלִיךְ בִּמְצוּלוֹת יָם כָּל חַטֹּאתָם',en:'Cast sins into the sea'},do:{he:'וְתַשְׁלִיךְ בִּמְצוּלוֹת יָם כָּל חַטֹּאתָם',en:'Cast sins into the sea'},
   explanations:{avoid:'כיצד עלינו להתייחס אל הזולת ואל עצמנו:\n• לא להגיד "העוון הוא שגרם לו לכך וכך", להגיד - זה נסיון של האדם, וכעת הוא בתחנה שהקדוש ברוך הוא כתב לו להיות בתוך הסימולטור.\n• כולנו היינו וצריכים להיות בכל המצבים.',do:''}},
  {day:10,avoid:{he:'תִּתֵּן אֱמֶת לְיַעֲקֹב',en:'Grant truth to Jacob'},do:{he:'תִּתֵּן אֱמֶת לְיַעֲקֹב',en:'Grant truth to Jacob'},
   explanations:{avoid:'כיצד עלינו להתייחס אל הזולת ואל עצמנו:\n• אנשים עושים כמיטב יכולתם, והם הולכים בדרך האמת. הולך עם חברו באמת, מרחם עליו באמת ומדגיש איתו את האמת - מידה כנגד מידה.\n• בשלוש המידות הבאות הקדוש ברוך הוא אפילו מעצים את אהבתו מעבר לאמת.',do:''}},
  {day:11,avoid:{he:'חֶסֶד לְאַבְרָהָם',en:'Kindness to Abraham'},do:{he:'חֶסֶד לְאַבְרָהָם',en:'Kindness to Abraham'},
   explanations:{avoid:'כיצד עלינו להתייחס אל הזולת ואל עצמנו:\n• לאנשים שנותנים לך אהבה - תגביר את אהבתך אליהם עוד יותר.',do:''}},
  {day:12,avoid:{he:'אֲשֶׁר נִשְׁבַּעַת לַאֲבוֹתֵינוּ',en:'As You swore to our forefathers'},do:{he:'אֲשֶׁר נִשְׁבַּעַת לַאֲבוֹתֵינוּ',en:'As You swore to our forefathers'},
   explanations:{avoid:'כיצד עלינו להתייחס אל הזולת ואל עצמנו:\n• אבותינו הם אברהם, יצחק ויעקב. כולנו שורשים לתנאים ואמוראים, כולנו שורשים לאנשי קדושה.\n• בדורות הקודמים לשלנו כולם היו צדיקים.\n• הבן הוא חלק מהאבא. ברגע שמרחמים על הבן מרחמים גם על האבא, ואז המידה הטובה שנמצאת באבא מתקנת גם את הבן. זה נקרא זכות אבות.',do:''}},
  {day:13,avoid:{he:'מִיְּמֵי קֶדֶם',en:'From days of old'},do:{he:'מִיְּמֵי קֶדֶם',en:'From days of old'},
   explanations:{avoid:'כיצד עלינו להתייחס אל הזולת ואל עצמנו:\n• "זכרתי לך חסד נעורייך" - אם אין זכות אבות, האדם לוקח את יצר העריות למקום מעוות. אי אפשר ליחס את זה לאבות כיוון שהמחשבה שלהם כלל לא נגעה בזה, ויצר העריות התעוות מאד.\n• להתנהג כך כלפי כל אדם שלא מצאנו בו שום מידה טובה - לזכור שיש בו את המידות של הקדוש ברוך הוא. מתפללים לשלומו, לא למהר להתאכזר אל הזולת ולא להחליט מה רשע גמור ומה לא רשע גמור.\n• לכל דבר יש עומק שמגיע עד לקדוש ברוך הוא.',do:''}}
];
const translations = {
    he: {
        title: 'תיקון המידות',
        subtitle: 'אלה מסעי בני ישראל',
        hebrewDate: 'תאריך עברי',
        gregorianDate: 'תאריך לועזי',
        dark: 'כהה',
        light: 'בהיר',
        journey: '🎯 מסע',
        community: '👥 קהילה',
        contacts: '📞 אנשי קשר',
        family: '❤️ משפחה',
        insights: '📈 תובנות',
        history: '📖 הסטוריה',
        day: 'מידה',
        completed: 'הושלמו',
        streak: 'רצף',
        progress: 'התקדמות',
        avoid: 'סור מרע',
        doGood: 'ועשה טוב',
        reflectionPrompt: 'האם הייתה מידה כזו היום? אם כן, כיצד פעלת?',
        save: 'שמור והמשך',
        addFamily: '➕ הוסף בן משפחה',
        addContact: '➕ הוסף איש קשר'
    },
    en: {
        title: 'Character Development',
        subtitle: 'A 71-Day Journey',
        hebrewDate: 'Hebrew Date',
        gregorianDate: 'Date',
        dark: 'Dark',
        light: 'Light',
        journey: '🎯 Journey',
        community: '👥 Community',
        contacts: '📞 Contacts',
        family: '❤️ Family',
        insights: '📈 Insights',
        history: '📖 History',
        day: 'Day',
        completed: 'Completed',
        streak: 'Streak',
        progress: 'Progress',
        avoid: 'Avoid',
        doGood: 'Do Good',
        reflectionPrompt: 'Did you experience this trait today? If so, how did you act?',
        save: 'Save and Continue',
        addFamily: '➕ Add Family Member',
        addContact: '➕ Add Contact'
    }
};

// Universal share helper function
function universalShare(title, text) {
    const whatsappUrl = 'https://wa.me/?text=' + encodeURIComponent(text);
    
    // Check if mobile device
    const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    
    if (isMobile && navigator.share) {
        // Mobile - use native share menu
        navigator.share({ title: title, text: text }).catch(() => {
            // User cancelled - do nothing
        });
    } else {
        // Desktop - open WhatsApp Web directly
        window.open(whatsappUrl, '_blank');
    }
}

let state = {
    currentDay: 1,
    completedDays: [],
    avoidReflections: {},
    doReflections: {},
    familyMembers: [],
    contacts: [],
    challenges: [
        {id: 1, name: 'אתגר שמירת הלשון - 7 ימים', joined: false, participants: 0},
        {id: 2, name: 'מסע תיקון המידות המלא - 42 יום', joined: false, participants: 0},
        {id: 3, name: 'אתגר הכרת הטובה - 14 יום', joined: false, participants: 0},
        {id: 4, name: 'אתגר סבלנות - 21 יום', joined: false, participants: 0}
    ],
    journeyHistory: [],
    language: 'he',
    isDarkMode: false,
    insightsNotes: '',
    changesNotes: '',
    contactsEditMode: false,
    contactsDeleteMode: false,
    familyEditMode: false,
    familyDeleteMode: false
};

// Initialize
document.addEventListener('DOMContentLoaded', () => {
    loadFromStorage();
    updateDates();
    renderProgressMap();
    updateDisplay();
    updateInsights();
    
    // Set up Gregorian date picker change handler
    document.getElementById('gregorian-date-picker').addEventListener('change', (e) => {
        const selectedDate = new Date(e.target.value);
        updateHebrewDateFromGregorian(selectedDate);
    });
});

function updateDates() {
    const now = new Date();
    const dateString = now.toISOString().split('T')[0];
    const gregInput = document.getElementById('gregorian-date-picker');
    if (gregInput) {
        gregInput.value = dateString;
    }
    updateHebrewDateFromGregorian(now);
}

function updateHebrewDateFromGregorian(date) {
    // Accurate Hebrew date calculation
    const hebrewDate = gregorianToHebrew(date);
    document.getElementById('hebrew-date-picker').value = hebrewDate;
}

function gregorianToHebrew(date) {
    // Hebrew month names
    const hebrewMonths = ['ניסן', 'אייר', 'סיון', 'תמוז', 'אב', 'אלול', 'תשרי', 'חשון', 'כסלו', 'טבת', 'שבט', 'אדר', 'אדר ב׳'];
    
    // Calculate Julian day number
    const year = date.getFullYear();
    const month = date.getMonth() + 1;
    const day = date.getDate();
    
    const a = Math.floor((14 - month) / 12);
    const y = year + 4800 - a;
    const m = month + 12 * a - 3;
    const jdn = day + Math.floor((153 * m + 2) / 5) + 365 * y + Math.floor(y / 4) - Math.floor(y / 100) + Math.floor(y / 400) - 32045;
    
    // Hebrew date calculation
    const hebrewEpoch = 347995.5;
    const daysSinceEpoch = jdn - hebrewEpoch;
    
    // Approximate Hebrew year
    let hebrewYear = Math.floor((daysSinceEpoch * 98496) / 35975351) + 1;
    
    // Adjust year if needed
    while (daysSinceEpoch >= hebrewNewYear(hebrewYear + 1) - hebrewEpoch) {
        hebrewYear++;
    }
    
    // Calculate day of year
    const startOfYear = hebrewNewYear(hebrewYear) - hebrewEpoch;
    let dayOfYear = daysSinceEpoch - startOfYear;
    
    // Get year length and month lengths
    const yearLength = hebrewYearLength(hebrewYear);
    const monthLengths = getHebrewMonthLengths(hebrewYear);
    
    // Find month and day
    let hebrewMonth = 0;
    while (dayOfYear >= monthLengths[hebrewMonth]) {
        dayOfYear -= monthLengths[hebrewMonth];
        hebrewMonth++;
    }
    
    const hebrewDay = Math.floor(dayOfYear) + 1;
    
    // Convert to display format
    const dayHeb = convertToHebrew(hebrewDay);
    const monthName = getHebrewMonthName(hebrewMonth, hebrewYear);
    
    return `${dayHeb} ב${monthName}`;
}

function hebrewNewYear(year) {
    // Calculate molad
    const monthsElapsed = Math.floor((235 * year - 234) / 19);
    const partsElapsed = 12084 + 13753 * monthsElapsed;
    const day = Math.floor(monthsElapsed * 29 + partsElapsed / 25920) + 347997;
    const parts = partsElapsed % 25920;
    const dayOfWeek = day % 7;
    
    // Apply postponement rules (dehiyot)
    let roshHashana = day;
    
    // Lo ADU - Rosh Hashana cannot fall on Sunday, Wednesday, or Friday
    if (dayOfWeek === 0 || dayOfWeek === 3 || dayOfWeek === 5) {
        roshHashana++;
    }
    // Molad Zaken - if molad is at or after noon
    else if (parts >= 19440) {
        roshHashana++;
        const newDayOfWeek = roshHashana % 7;
        if (newDayOfWeek === 0 || newDayOfWeek === 3 || newDayOfWeek === 5) {
            roshHashana++;
        }
    }
    // GaTRaD - prevents year from being 356 days
    else if (dayOfWeek === 2 && parts >= 9924 && !isHebrewLeapYear(year)) {
        roshHashana += 2;
    }
    // BeTUTaKPaT - prevents year from being 382 days
    else if (dayOfWeek === 1 && parts >= 16789 && isHebrewLeapYear(year - 1)) {
        roshHashana++;
    }
    
    return roshHashana;
}

function hebrewYearLength(year) {
    return hebrewNewYear(year + 1) - hebrewNewYear(year);
}

function isHebrewLeapYear(year) {
    return ((7 * year + 1) % 19) < 7;
}

function getHebrewMonthLengths(year) {
    const yearLength = hebrewYearLength(year);
    const isLeap = isHebrewLeapYear(year);
    
    // Base month lengths (starting from Tishrei)
    let months = [30, 0, 0, 29, 30, 29, 30, 29, 30, 29, 30, 29];
    
    if (isLeap) {
        months.push(30); // Adar I
        months[11] = 30; // Adar II becomes 29
    }
    
    // Determine Cheshvan and Kislev lengths based on year type
    if (yearLength === 353 || yearLength === 383) {
        // Deficient year
        months[1] = 29; // Cheshvan
        months[2] = 29; // Kislev
    } else if (yearLength === 354 || yearLength === 384) {
        // Regular year
        months[1] = 29; // Cheshvan
        months[2] = 30; // Kislev
    } else {
        // Complete year (355 or 385)
        months[1] = 30; // Cheshvan
        months[2] = 30; // Kislev
    }
    
    return months;
}

function getHebrewMonthName(monthIndex, year) {
    const isLeap = isHebrewLeapYear(year);
    // Months starting from Tishrei (month 0 = Tishrei)
    const monthNames = ['תשרי', 'חשון', 'כסלו', 'טבת', 'שבט'];
    
    if (monthIndex < 5) {
        return monthNames[monthIndex];
    }
    
    if (isLeap) {
        const leapMonths = ['אדר א׳', 'אדר ב׳', 'ניסן', 'אייר', 'סיון', 'תמוז', 'אב', 'אלול'];
        return leapMonths[monthIndex - 5] || '';
    } else {
        const regularMonths = ['אדר', 'ניסן', 'אייר', 'סיון', 'תמוז', 'אב', 'אלול'];
        return regularMonths[monthIndex - 5] || '';
    }
}

// Hebrew Calendar Variables
let currentHebrewYear = 5785;
let currentHebrewMonthIndex = 0;

function openHebrewCalendar() {
    // Get current date and set calendar to current Hebrew month
    const now = new Date();
    const hebrewInfo = getHebrewDateInfo(now);
    currentHebrewYear = hebrewInfo.year;
    currentHebrewMonthIndex = hebrewInfo.month;
    
    renderHebrewCalendar();
    document.getElementById('hebrew-calendar-modal').style.display = 'flex';
}

function closeHebrewCalendar() {
    document.getElementById('hebrew-calendar-modal').style.display = 'none';
}

function changeHebrewMonth(delta) {
    const isLeap = isHebrewLeapYear(currentHebrewYear);
    const maxMonths = isLeap ? 13 : 12;
    
    currentHebrewMonthIndex += delta;
    
    if (currentHebrewMonthIndex >= maxMonths) {
        currentHebrewMonthIndex = 0;
        currentHebrewYear++;
    } else if (currentHebrewMonthIndex < 0) {
        currentHebrewYear--;
        const prevYearLeap = isHebrewLeapYear(currentHebrewYear);
        currentHebrewMonthIndex = prevYearLeap ? 12 : 11;
    }
    
    renderHebrewCalendar();
}

function renderHebrewCalendar() {
    const monthNames = getHebrewMonthName(currentHebrewMonthIndex, currentHebrewYear);
    const yearHeb = convertYearToHebrew(currentHebrewYear);
    
    document.getElementById('hebrew-calendar-title').textContent = `${monthNames} ${yearHeb}`;
    
    const grid = document.getElementById('hebrew-calendar-grid');
    grid.innerHTML = '';
    
    // Day headers
    const days = ['א׳', 'ב׳', 'ג׳', 'ד׳', 'ה׳', 'ו׳', 'ש׳'];
    days.forEach(day => {
        const header = document.createElement('div');
        header.style.cssText = 'font-weight: bold; color: #f48fb1; padding: 5px;';
        header.textContent = day;
        grid.appendChild(header);
    });
    
    // Get month length
    const monthLengths = getHebrewMonthLengths(currentHebrewYear);
    const daysInMonth = monthLengths[currentHebrewMonthIndex];
    
    // Get first day of month (day of week)
    const firstDayGregorian = hebrewToGregorian(currentHebrewYear, currentHebrewMonthIndex, 1);
    const firstDayOfWeek = firstDayGregorian.getDay();
    
    // Empty cells before first day
    for (let i = 0; i < firstDayOfWeek; i++) {
        const empty = document.createElement('div');
        grid.appendChild(empty);
    }
    
    // Day cells
    for (let day = 1; day <= daysInMonth; day++) {
        const cell = document.createElement('div');
        cell.style.cssText = 'padding: 8px; cursor: pointer; border-radius: 50%; transition: all 0.2s;';
        cell.textContent = convertToHebrew(day);
        cell.onmouseover = () => cell.style.background = '#fce4ec';
        cell.onmouseout = () => cell.style.background = 'transparent';
        cell.onclick = () => selectHebrewDate(day);
        grid.appendChild(cell);
    }
}

function selectHebrewDate(day) {
    const monthName = getHebrewMonthName(currentHebrewMonthIndex, currentHebrewYear);
    const dayHeb = convertToHebrew(day);
    document.getElementById('hebrew-date-picker').value = `${dayHeb} ב${monthName}`;
    
    // Update Gregorian date to match
    const gregDate = hebrewToGregorian(currentHebrewYear, currentHebrewMonthIndex, day);
    document.getElementById('gregorian-date-picker').value = gregDate.toISOString().split('T')[0];
    
    closeHebrewCalendar();
}

function hebrewToGregorian(hYear, hMonth, hDay) {
    // Calculate Julian day number from Hebrew date
    const monthsInYear = isHebrewLeapYear(hYear) ? 13 : 12;
    const monthLengths = getHebrewMonthLengths(hYear);
    
    let dayOfYear = hDay - 1;
    for (let i = 0; i < hMonth; i++) {
        dayOfYear += monthLengths[i];
    }
    
    const jdn = hebrewNewYear(hYear) + dayOfYear;
    
    // Convert Julian day to Gregorian
    const l = jdn + 68569;
    const n = Math.floor(4 * l / 146097);
    const ll = l - Math.floor((146097 * n + 3) / 4);
    const i = Math.floor(4000 * (ll + 1) / 1461001);
    const lll = ll - Math.floor(1461 * i / 4) + 31;
    const j = Math.floor(80 * lll / 2447);
    const day = lll - Math.floor(2447 * j / 80);
    const llll = Math.floor(j / 11);
    const month = j + 2 - 12 * llll;
    const year = 100 * (n - 49) + i + llll;
    
    return new Date(year, month - 1, day);
}

function getHebrewDateInfo(date) {
    // Calculate Julian day number
    const year = date.getFullYear();
    const month = date.getMonth() + 1;
    const day = date.getDate();
    
    const a = Math.floor((14 - month) / 12);
    const y = year + 4800 - a;
    const m = month + 12 * a - 3;
    const jdn = day + Math.floor((153 * m + 2) / 5) + 365 * y + Math.floor(y / 4) - Math.floor(y / 100) + Math.floor(y / 400) - 32045;
    
    const hebrewEpoch = 347995.5;
    const daysSinceEpoch = jdn - hebrewEpoch;
    
    let hebrewYear = Math.floor((daysSinceEpoch * 98496) / 35975351) + 1;
    
    while (daysSinceEpoch >= hebrewNewYear(hebrewYear + 1) - hebrewEpoch) {
        hebrewYear++;
    }
    
    const startOfYear = hebrewNewYear(hebrewYear) - hebrewEpoch;
    let dayOfYear = daysSinceEpoch - startOfYear;
    
    const monthLengths = getHebrewMonthLengths(hebrewYear);
    
    let hebrewMonth = 0;
    while (dayOfYear >= monthLengths[hebrewMonth]) {
        dayOfYear -= monthLengths[hebrewMonth];
        hebrewMonth++;
    }
    
    const hebrewDay = Math.floor(dayOfYear) + 1;
    
    return { year: hebrewYear, month: hebrewMonth, day: hebrewDay };
}

function convertYearToHebrew(year) {
    const thousands = Math.floor(year / 1000);
    const hundreds = Math.floor((year % 1000) / 100);
    const tens = Math.floor((year % 100) / 10);
    const ones = year % 10;
    
    const hebThousands = ['', 'א', 'ב', 'ג', 'ד', 'ה'];
    const hebHundreds = ['', 'ק', 'ר', 'ש', 'ת', 'תק', 'תר', 'תש', 'תת', 'תתק'];
    const hebTens = ['', 'י', 'כ', 'ל', 'מ', 'נ', 'ס', 'ע', 'פ', 'צ'];
    const hebOnes = ['', 'א', 'ב', 'ג', 'ד', 'ה', 'ו', 'ז', 'ח', 'ט'];
    
    // Special cases for 15 and 16
    if (tens === 1 && ones === 5) return hebThousands[thousands] + '׳' + hebHundreds[hundreds] + 'ט״ו';
    if (tens === 1 && ones === 6) return hebThousands[thousands] + '׳' + hebHundreds[hundreds] + 'ט״ז';
    
    let result = hebThousands[thousands] + '׳' + hebHundreds[hundreds] + hebTens[tens] + hebOnes[ones];
    
    // Add gershayim before last letter
    if (result.length > 2) {
        result = result.slice(0, -1) + '״' + result.slice(-1);
    }
    
    return result;
}

function editHebrewDate() {
    const input = document.getElementById('hebrew-date-picker');
    const currentValue = input.value;
    
    // Make it editable
    input.removeAttribute('readonly');
    input.focus();
    input.select();
    
    // When user finishes editing (blur or enter)
    const finishEdit = () => {
        if (input.value.trim() === '') {
            input.value = currentValue; // Restore if empty
        }
        input.blur();
    };
    
    input.onkeydown = (e) => {
        if (e.key === 'Enter') {
            finishEdit();
        }
    };
    
    input.onblur = () => {
        // Save the custom date
        saveToStorage();
    };
}

function convertToHebrew(num) {
    const ones = ['', 'א', 'ב', 'ג', 'ד', 'ה', 'ו', 'ז', 'ח', 'ט'];
    const tens = ['', 'י', 'כ', 'ל', 'מ', 'נ', 'ס', 'ע', 'פ', 'צ'];
    
    if (num < 10) return ones[num] + '׳';
    if (num === 15) return 'ט״ו';
    if (num === 16) return 'ט״ז';
    
    const ten = Math.floor(num / 10);
    const one = num % 10;
    return tens[ten] + (one > 0 ? '״' + ones[one] : '׳');
}

function loadFromStorage() {
    const saved = localStorage.getItem('tomerDevorah13');
    if (saved) {
        state = {...state, ...JSON.parse(saved)};
    }
    // Always reset delete modes on load
    state.contactsDeleteMode = false;
    state.familyDeleteMode = false;
    // Always force Hebrew language
    state.language = 'he';
}

function saveToStorage() {
    localStorage.setItem('tomerDevorah13', JSON.stringify(state));
}

function renderProgressMap() {
    const map = document.getElementById('progress-map');
    map.innerHTML = '';
    MIDDOT_PAIRS.forEach(pair => {
        const circle = document.createElement('div');
        circle.className = 'day-circle';
        if (state.completedDays.includes(pair.day)) circle.classList.add('completed');
        if (pair.day === state.currentDay) circle.classList.add('current');
        
        // Add click handler to navigate to day
        circle.onclick = () => {
            state.currentDay = pair.day;
            updateDisplay();
            renderProgressMap();
            saveToStorage();
        };
        
        const tooltip = document.createElement('div');
        tooltip.className = 'tooltip';
        tooltip.innerHTML = `
            <div style="color: #f48fb1; font-size: 0.85em; font-weight: 600; margin-bottom: 5px;">מידה ${hebrewNumbers[pair.day - 1]}</div>
            <div style="font-weight: 600; color: #2d1b2e;">${pair.avoid.he}</div>
        `;
        
        circle.innerHTML = state.completedDays.includes(pair.day) ? '✓' : pair.day;
        circle.appendChild(tooltip);
        map.appendChild(circle);
    });
}

// Hebrew letter mapping for middot titles
const hebrewNumbers = ["א'", "ב'", "ג'", "ד'", "ה'", "ו'", "ז'", "ח'", "ט'", "י'", "יא'", "יב'", "יג'"];

function updateDisplay() {
    // Safety check - ensure currentDay is within valid range
    if (state.currentDay < 1) state.currentDay = 1;
    if (state.currentDay > 13) state.currentDay = 13;
    
    const pair = MIDDOT_PAIRS[state.currentDay - 1];
    if (!pair) return; // Safety check
    
    const lang = state.language;
    
    // Update day title (hidden for compatibility)
    const dayTitle = document.getElementById('current-day-title');
    if (dayTitle) dayTitle.textContent = state.currentDay;
    
    // Update Hebrew title for Tomer Devorah
    const hebrewTitle = document.getElementById('current-day-title-hebrew');
    if (hebrewTitle) {
        hebrewTitle.textContent = 'מידה ' + hebrewNumbers[state.currentDay - 1];
    }
    
    // Update single middah text for Tomer Devorah
    const middahText = document.getElementById('middah-text');
    if (middahText) {
        middahText.textContent = pair.avoid[lang];
    }
    
    // Update single middah explanation
    const middahExpl = document.getElementById('middah-explanation');
    if (middahExpl && pair.explanations) {
        middahExpl.textContent = pair.explanations.avoid || '';
    }
    
    // Fallback for two-column structure
    const avoidText = document.getElementById('avoid-text');
    const doText = document.getElementById('do-text');
    if (avoidText) avoidText.textContent = pair.avoid[lang];
    if (doText) doText.textContent = pair.do[lang];
    
    const avoidExpl = document.getElementById('avoid-explanation');
    const doExpl = document.getElementById('do-explanation');
    if (pair.explanations) {
        if (avoidExpl) avoidExpl.textContent = pair.explanations.avoid || '';
        if (doExpl) doExpl.textContent = pair.explanations.do || '';
    }
    
    document.getElementById('completed-stat').textContent = state.completedDays.length;
    document.getElementById('streak-stat').textContent = calculateStreak();
    document.getElementById('percent-stat').textContent = Math.round((state.completedDays.length / 13) * 100) + '%';
    
    // Load saved reflections for current day (if they exist)
    const middahReflection = document.getElementById('middah-reflection');
    if (middahReflection) middahReflection.value = state.avoidReflections[state.currentDay] || '';
    
    // Show/hide reset journey button (only on day 13)
    const resetJourneyContainer = document.getElementById('reset-journey-container');
    if (resetJourneyContainer) {
        resetJourneyContainer.style.display = state.currentDay === 13 ? 'block' : 'none';
    }
    
    // Load insights notes if on insights tab
    if (document.getElementById('insights-notes')) {
        document.getElementById('insights-notes').value = state.insightsNotes || '';
        document.getElementById('changes-notes').value = state.changesNotes || '';
    }
}

// Add reflection box for Tomer Devorah
function addReflectionBox() {
    const container = document.getElementById('additional-notes-container');
    const noteId = Date.now();
    
    const noteDiv = document.createElement('div');
    noteDiv.id = 'note-' + noteId;
    noteDiv.style.cssText = 'margin-top: 15px;';
    noteDiv.innerHTML = `
        <div style="background: linear-gradient(135deg, #fff5f7 0%, #fce4ec 100%); border: 2px solid #f48fb1; border-radius: 15px; padding: 20px;">
            <label style="font-weight: 600; margin-bottom: 10px; display: block; font-size: 0.95em; color: #f48fb1; text-align: right;">הערה נוספת:</label>
            <textarea class="reflection-note" data-note-id="${noteId}" placeholder="רשום את המחשבות שלך..." style="width: 100%; min-height: 100px; padding: 12px; border: 2px solid #f48fb1; border-radius: 10px; font-family: 'Heebo', sans-serif; font-size: 0.95em; resize: vertical; text-align: right; background: white;"></textarea>
            <button onclick="removeNote(${noteId})" style="margin-top: 10px; background: #f48fb1; color: white; border: none; padding: 8px 15px; border-radius: 8px; cursor: pointer; font-family: 'Heebo', sans-serif;">🗑️ הסר</button>
        </div>
    `;
    container.appendChild(noteDiv);
}

function removeNote(noteId) {
    const noteDiv = document.getElementById('note-' + noteId);
    if (noteDiv) noteDiv.remove();
}

function calculateStreak() {
    if (state.completedDays.length === 0) return 0;
    
    const sorted = [...state.completedDays].sort((a, b) => b - a);
    let streak = 1;
    
    for (let i = 0; i < sorted.length - 1; i++) {
        if (sorted[i] - sorted[i + 1] === 1) {
            streak++;
        } else {
            break;
        }
    }
    
    return streak;
}

function completeDay() {
    const middahReflection = document.getElementById('middah-reflection');
    const reflection = middahReflection ? middahReflection.value : '';
    
    // ALWAYS save reflections for current day
    state.avoidReflections[state.currentDay] = reflection;
    saveToStorage();
    
    if (!state.completedDays.includes(state.currentDay)) {
        state.completedDays.push(state.currentDay);
        
        if (state.currentDay === 13) {
            // Special celebration for completing all 13 middot!
            showCompletionCelebration();
        } else {
            state.currentDay++;
            updateDisplay();
            renderProgressMap();
        }
        saveToStorage();
        updateInsights();
    } else {
        // Just update display to show changes were saved
        renderProgressMap(); // Make sure to update the map
        alert('השינויים נשמרו!');
    }
}

function resetDay() {
    // Reset only current day - clear reflections
    state.avoidReflections[state.currentDay] = '';
    state.doReflections[state.currentDay] = '';
    
    // Clear the reflection textarea
    const reflectionBox = document.getElementById('middah-reflection');
    if (reflectionBox) reflectionBox.value = '';
    
    // Clear additional notes
    const notesContainer = document.getElementById('additional-notes-container');
    if (notesContainer) notesContainer.innerHTML = '';
    
    // Remove from completed days
    state.completedDays = state.completedDays.filter(day => day !== state.currentDay);
    
    // Save and update display
    saveToStorage();
    updateDisplay();
    renderProgressMap();
}

function resetJourney() {
    if (confirm('האם אתה בטוח שברצונך למחוק את כל המסע ולהתחיל מחדש?')) {
        localStorage.removeItem('tomerDevorah13');
        location.reload();
    }
}

function showCompletionCelebration() {
    // Create celebration modal
    const modal = document.createElement('div');
    modal.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.7);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 9999;
    `;
    
    const content = document.createElement('div');
    content.style.cssText = `
        background: white;
        padding: 40px;
        border-radius: 20px;
        text-align: center;
        max-width: 400px;
        position: relative;
        box-shadow: 0 10px 40px rgba(0,0,0,0.3);
    `;
    
    content.innerHTML = `
        <h2 style="color: #f48fb1; font-size: 2.5em; margin-bottom: 20px; font-family: 'Varela Round', sans-serif;">🎉 כל הכבוד! 🎉</h2>
        <p style="font-size: 1.5em; color: #2d1b2e; font-weight: 600; margin-bottom: 30px;">תיקנת את המידות!</p>
        <button onclick="this.closest('.celebration-modal').remove()" style="background: #98d8c8; color: white; border: none; padding: 12px 30px; border-radius: 10px; font-size: 1.1em; cursor: pointer; font-weight: 600; font-family: 'Heebo', sans-serif;">סגור</button>
    `;
    
    modal.className = 'celebration-modal';
    modal.appendChild(content);
    document.body.appendChild(modal);
    
    // Create confetti
    createConfetti();
    
    // Create fireworks
    createFireworks();
    
    // Remove after 10 seconds
    setTimeout(() => {
        if (modal.parentNode) {
            modal.remove();
        }
    }, 10000);
}

function createConfetti() {
    const colors = ['#ffb3c1', '#98d8c8', '#d4af37', '#f48fb1', '#ffe4e9'];
    
    for (let i = 0; i < 100; i++) {
        setTimeout(() => {
            const confetti = document.createElement('div');
            confetti.className = 'confetti';
            confetti.style.left = Math.random() * 100 + 'vw';
            confetti.style.top = '-10px';
            confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
            confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
            document.body.appendChild(confetti);
            
            setTimeout(() => confetti.remove(), 3000);
        }, i * 30);
    }
}

function createFireworks() {
    const colors = ['#ffb3c1', '#98d8c8', '#d4af37', '#f48fb1', '#ffe4e9'];
    
    for (let i = 0; i < 8; i++) {
        setTimeout(() => {
            const x = 20 + Math.random() * 60;
            const y = 20 + Math.random() * 60;
            
            for (let j = 0; j < 30; j++) {
                const firework = document.createElement('div');
                firework.className = 'firework';
                firework.style.left = x + '%';
                firework.style.top = y + '%';
                firework.style.background = colors[Math.floor(Math.random() * colors.length)];
                
                const angle = (j / 30) * 2 * Math.PI;
                const distance = 100 + Math.random() * 100;
                const dx = Math.cos(angle) * distance;
                const dy = Math.sin(angle) * distance;
                
                firework.style.setProperty('--x', dx + 'px');
                firework.style.setProperty('--y', dy + 'px');
                
                document.body.appendChild(firework);
                
                setTimeout(() => firework.remove(), 1000);
            }
        }, i * 400);
    }
}

function previousDay() {
    if (state.currentDay > 1) {
        state.currentDay--;
        updateDisplay();
        renderProgressMap();
        saveToStorage();
    }
}

function nextDay() {
    if (state.currentDay < 71) {
        state.currentDay++;
        updateDisplay();
        renderProgressMap();
        saveToStorage();
    }
}

function startOver() {
    if (confirm('האם אתה בטוח שברצונך להתחיל מחדש?')) {
        state.currentDay = 1;
        state.completedDays = [];
        state.avoidReflections = {};
        state.doReflections = {};
        closeModal('celebration-modal');
        showTab('journey');
        updateDisplay();
        renderProgressMap();
        saveToStorage();
    }
}

function viewSummary() {
    alert(`סיימת ${state.completedDays.length} ימים מתוך 71!\nאחוז השלמה: ${Math.round((state.completedDays.length / 13) * 100)}%\nרצף נוכחי: ${calculateStreak()} ימים`);
}

function saveToHistory() {
    const journey = {
        id: Date.now(),
        completedDays: [...state.completedDays],
        date: new Date().toLocaleDateString('he-IL'),
        hebrewDate: document.getElementById('hebrew-date').textContent,
        percentage: Math.round((state.completedDays.length / 13) * 100),
        reflections: {...state.dailyReflections}
    };
    state.journeyHistory.push(journey);
    renderHistory();
    saveToStorage();
    alert('המסע נשמר להסטוריה!');
}

function shareJourney() {
    const text = `סיימתי את מסע תיקון המידות! ${state.completedDays.length}/54 ימים 🎉`;
    if (navigator.share) {
        navigator.share({
            title: 'תיקון המידות',
            text: text
        });
    } else {
        navigator.clipboard.writeText(text);
        alert('הטקסט הועתק ללוח!');
    }
}

let selectedVisualDay = null;

function renderVisualMap() {
    const container = document.getElementById('visual-spiral');
    container.innerHTML = '';
    
    const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
    svg.setAttribute('width', '100%');
    svg.setAttribute('height', '100%');
    svg.setAttribute('viewBox', '0 0 600 600');
    svg.setAttribute('preserveAspectRatio', 'xMidYMid meet');
    svg.style.maxWidth = '600px';
    svg.style.maxHeight = '600px';
    
    const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
    let pathData = '';
    
    const center = 300;
    const maxRadius = 260;
    const minRadius = 50;
    const turns = 2.5; // More turns for a beautiful spiral
    const points = 13;
    
    // Create smooth spiral path with many points
    const spiralSteps = 300;
    for (let i = 0; i <= spiralSteps; i++) {
        const t = i / spiralSteps;
        const angle = t * turns * 2 * Math.PI;
        const radius = minRadius + t * (maxRadius - minRadius);
        const x = center + radius * Math.cos(angle - Math.PI / 2);
        const y = center + radius * Math.sin(angle - Math.PI / 2);
        
        if (i === 0) {
            pathData = `M ${x} ${y}`;
        } else {
            pathData += ` L ${x} ${y}`;
        }
    }
    
    path.setAttribute('d', pathData);
    path.setAttribute('stroke', '#f48fb1');
    path.setAttribute('stroke-width', '2');
    path.setAttribute('stroke-dasharray', '5,5');
    path.setAttribute('fill', 'none');
    path.setAttribute('stroke-linecap', 'round');
    
    svg.appendChild(path);
    
    MIDDOT_PAIRS.forEach((pair, index) => {
        const angle = (index / points) * turns * 2 * Math.PI;
        const radius = minRadius + (index / points) * (maxRadius - minRadius);
        const x = center + radius * Math.cos(angle - Math.PI / 2);
        const y = center + radius * Math.sin(angle - Math.PI / 2);
        
        const isCompleted = state.completedDays.includes(pair.day);
        const isCurrent = pair.day === state.currentDay;
        
        const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
        circle.setAttribute('cx', x);
        circle.setAttribute('cy', y);
        circle.setAttribute('r', isCurrent ? '22' : '18');
        
        if (isCurrent) {
            circle.setAttribute('fill', '#ffd6e0');
            circle.setAttribute('stroke', '#f48fb1');
            circle.setAttribute('stroke-width', '4');
            
            const animate = document.createElementNS('http://www.w3.org/2000/svg', 'animate');
            animate.setAttribute('attributeName', 'r');
            animate.setAttribute('values', '24;28;24');
            animate.setAttribute('dur', '2s');
            animate.setAttribute('repeatCount', 'indefinite');
            circle.appendChild(animate);
        } else if (isCompleted) {
            circle.setAttribute('fill', '#98d8c8');
            circle.setAttribute('stroke', '#6fb8a8');
            circle.setAttribute('stroke-width', '3');
        } else {
            circle.setAttribute('fill', '#f5f5f5');
            circle.setAttribute('stroke', '#ddd');
            circle.setAttribute('stroke-width', '3');
        }
        
        circle.style.cursor = 'pointer';
        
        // Tooltip with Hebrew letter
        const tooltip = document.createElementNS('http://www.w3.org/2000/svg', 'text');
        tooltip.setAttribute('x', x);
        tooltip.setAttribute('y', y - 35);
        tooltip.setAttribute('text-anchor', 'middle');
        tooltip.setAttribute('font-size', '14');
        tooltip.setAttribute('font-weight', '600');
        tooltip.setAttribute('fill', '#f48fb1');
        tooltip.setAttribute('pointer-events', 'none');
        tooltip.style.opacity = '0';
        tooltip.style.transition = 'opacity 0.2s';
        tooltip.textContent = pair.avoid.he;
        svg.appendChild(tooltip);
        
        circle.addEventListener('mouseenter', function() {
            this.setAttribute('r', isCurrent ? '28' : '24');
            this.style.filter = 'drop-shadow(0 0 10px rgba(244, 143, 177, 0.7))';
            tooltip.style.opacity = '1';
            showVisualDayDetails(pair.day);
        });
        
        circle.addEventListener('mouseleave', function() {
            this.setAttribute('r', isCurrent ? '22' : '18');
            this.style.filter = 'none';
            tooltip.style.opacity = '0';
        });
        
        circle.addEventListener('click', () => {
            showVisualDayDetails(pair.day);
        });
        
        svg.appendChild(circle);
        
        // Hebrew letter inside circle
        const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');
        text.setAttribute('x', x);
        text.setAttribute('y', y + 5);
        text.setAttribute('text-anchor', 'middle');
        text.setAttribute('font-size', isCurrent ? '14' : '12');
        text.setAttribute('font-weight', '700');
        text.setAttribute('fill', isCurrent || isCompleted ? 'white' : '#999');
        text.setAttribute('pointer-events', 'none');
        text.textContent = isCurrent ? '⭐' : hebrewNumbers[index].replace("'", "");
        svg.appendChild(text);
        
        const title = document.createElementNS('http://www.w3.org/2000/svg', 'title');
        title.textContent = `מידה ${hebrewNumbers[index]}: ${pair.avoid.he}`;
        circle.appendChild(title);
    });
    
    container.appendChild(svg);
}

function showVisualDayDetails(day) {
    selectedVisualDay = day;
    const pair = MIDDOT_PAIRS.find(p => p.day === day);
    if (!pair) return;
    
    const hebrewNum = hebrewNumbers[day - 1] || day;
    document.getElementById('visual-day-title').textContent = `מידה ${hebrewNum}`;
    
    // For single middah display
    const middahText = document.getElementById('visual-middah-text');
    const middahExpl = document.getElementById('visual-middah-explanation');
    if (middahText) middahText.textContent = pair.avoid.he;
    if (middahExpl && pair.explanations) middahExpl.textContent = pair.explanations.avoid || '';
    
    // Fallback for two-column display
    const avoidText = document.getElementById('visual-avoid-text');
    const doText = document.getElementById('visual-do-text');
    if (avoidText) avoidText.textContent = pair.avoid.he;
    if (doText) doText.textContent = pair.do.he;
    
    if (pair.explanations) {
        const avoidExpl = document.getElementById('visual-avoid-explanation');
        const doExpl = document.getElementById('visual-do-explanation');
        if (avoidExpl) avoidExpl.textContent = pair.explanations.avoid || '';
        if (doExpl) doExpl.textContent = pair.explanations.do || '';
    }
    
    document.getElementById('visual-details').style.display = 'block';
}

function goToDay(day) {
    state.currentDay = day;
    saveToStorage();
    showTab('journey');
    updateDisplay();
    renderProgressMap();
}

function renderHistory() {
    const list = document.getElementById('history-list');
    if (!list) return;
    
    if (state.journeyHistory.length === 0) {
        list.innerHTML = '<div class="empty-state">אין היסטוריה עדיין</div>';
        return;
    }
    
    list.innerHTML = state.journeyHistory.map(j => `
        <div class="history-item">
            <h3 style="color: #98d8c8; margin-bottom: 10px;">מסע מתאריך ${j.date}</h3>
            <p>תאריך עברי: ${j.hebrewDate}</p>
            <p>הושלמו: ${j.completedDays.length}/13 מידות</p>
            <p>אחוז השלמה: ${j.percentage}%</p>
            <div class="progress-bar">
                <div class="progress-fill" style="width: ${j.percentage}%"></div>
            </div>
            <button class="share-btn" onclick="shareHistoryItem(${j.id})">שתף מסע זה</button>
        </div>
    `).join('');
}

function exportHistoryToFile() {
    let content = "תיקון המידות - סיכום ההתקדמות שלי\n";
    content += "=====================================\n\n";
    content += `תאריך: ${new Date().toLocaleDateString('he-IL')}\n`;
    content += `מידות שהושלמו: ${state.completedDays.length} מתוך 71\n`;
    content += `אחוז השלמה: ${Math.round((state.completedDays.length / 13) * 100)}%\n\n`;
    
    content += "מידות שעבדתי עליהן:\n";
    content += "-------------------\n";
    state.completedDays.forEach(day => {
        const pair = MIDDOT_PAIRS.find(p => p.day === day);
        if (pair) {
            content += `${day}. סור מרע: ${pair.avoid.he} | ועשה טוב: ${pair.do.he}\n`;
            if (state.reflections[day]) {
                content += `   הערות: ${state.reflections[day]}\n`;
            }
        }
    });
    
    if (state.journeyHistory.length > 0) {
        content += "\n\nהיסטוריית מסעות:\n";
        content += "-----------------\n";
        state.journeyHistory.forEach(j => {
            content += `מסע מתאריך ${j.date}: ${j.completedDays.length}/13 מידות (${j.percentage}%)\n`;
        });
    }
    
    const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'תיקון_המידות_התקדמות.txt';
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    URL.revokeObjectURL(url);
}

function shareHistoryByEmail() {
    let body = 'תיקון המידות - סיכום ההתקדמות שלי\n\n';
    body += 'מידות שהושלמו: ' + state.completedDays.length + ' מתוך 71\n';
    body += 'אחוז השלמה: ' + Math.round((state.completedDays.length / 13) * 100) + '%\n\n';
    body += 'המידות שעבדתי עליהן:\n';
    state.completedDays.slice(0, 10).forEach(day => {
        const pair = MIDDOT_PAIRS.find(p => p.day === day);
        if (pair) {
            body += '• ' + pair.avoid.he + ' ← ' + pair.do.he + '\n';
        }
    });
    if (state.completedDays.length > 10) {
        body += '...ועוד ' + (state.completedDays.length - 10) + ' מידות נוספות';
    }
    
    navigator.clipboard.writeText(body).then(() => {
        alert('הטקסט הועתק! כעת ניתן להדביק אותו במייל.');
    }).catch(() => {
        prompt('העתיקו את הטקסט:', body);
    });
}

function shareHistoryWhatsApp() {
    let text = '*תיקון המידות - ההתקדמות שלי* 🌟\n\n';
    text += '✅ מידות שהושלמו: ' + state.completedDays.length + ' מתוך 71\n';
    text += '📊 אחוז השלמה: ' + Math.round((state.completedDays.length / 13) * 100) + '%\n\n';
    text += 'המידות שעבדתי עליהן:\n';
    state.completedDays.slice(0, 5).forEach(day => {
        const pair = MIDDOT_PAIRS.find(p => p.day === day);
        if (pair) {
            text += '• ' + pair.avoid.he + ' ← ' + pair.do.he + '\n';
        }
    });
    if (state.completedDays.length > 5) {
        text += '...ועוד ' + (state.completedDays.length - 5) + ' מידות נוספות';
    }
    
    if (navigator.share) {
        navigator.share({
            title: 'תיקון המידות',
            text: text
        }).catch(() => {
            const a = document.createElement('a');
            a.href = 'https://wa.me/?text=' + encodeURIComponent(text);
            a.target = '_blank';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
        });
    } else {
        const a = document.createElement('a');
        a.href = 'https://wa.me/?text=' + encodeURIComponent(text);
        a.target = '_blank';
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
    }
}

function shareHistoryItem(id) {
    const journey = state.journeyHistory.find(j => j.id === id);
    if (!journey) return;
    
    const text = `השלמתי ${journey.completedDays.length}/13 מידות במסע תומר דבורה! (${journey.percentage}%)`;
    universalShare('תומר דבורה', text);
}

function openAddFamilyModal() {
    openModal('add-family-modal');
}

function addFamilyMember() {
    const name = document.getElementById('family-name').value;
    const phone = document.getElementById('family-phone').value;
    const day = parseInt(document.getElementById('family-day').value);
    const permission = document.getElementById('family-permission').checked;
    
    if (name) {
        state.familyMembers.push({
            id: Date.now(),
            name,
            phone,
            day,
            completedDays: [],
            sharePermission: permission
        });
        renderFamilyList();
        saveToStorage();
        closeModal('add-family-modal');
        document.getElementById('family-name').value = '';
        document.getElementById('family-phone').value = '';
        document.getElementById('family-day').value = '0';
        document.getElementById('family-permission').checked = false;
    }
}

function renderFamilyList() {
    const list = document.getElementById('family-list');
    if (!list) return;
    
    if (!state.familyDeleteMode) {
        if (state.familyMembers.length === 0) {
            list.innerHTML = '<div class="empty-state">לא הוספת בני משפחה עדיין</div>';
            return;
        }
        
        list.innerHTML = state.familyMembers.map((member, index) => `
            <div class="family-card">
                <h3 style="margin: 0 0 5px 0;">${member.name}</h3>
                ${member.phone ? '<p style="margin: 0;">📱 ' + member.phone + '</p>' : ''}
                <div class="progress-bar" style="margin-top: 5px;">
                    <div class="progress-fill" style="width: ${(member.completedDays.length / 13) * 100}%"></div>
                </div>
            </div>
        `).join('');
    } else {
        list.innerHTML = state.familyMembers.map((member, index) => `
            <div class="family-card" style="display: flex; align-items: center; gap: 10px;">
                <input type="checkbox" class="family-checkbox" data-index="${index}" 
                    onchange="updateSelectedFamily(this)"
                    ${state.selectedFamilyIndices && state.selectedFamilyIndices.includes(index) ? 'checked' : ''}
                    style="width: 20px; height: 20px; cursor: pointer;">
                <div style="flex: 1;">
                    <h3 style="margin: 0 0 5px 0;">${member.name}</h3>
                    ${member.phone ? '<p style="margin: 0;">📱 ' + member.phone + '</p>' : ''}
                    <div class="progress-bar" style="margin-top: 5px;">
                        <div class="progress-fill" style="width: ${(member.completedDays.length / 13) * 100}%"></div>
                    </div>
                </div>
            </div>
        `).join('');
    }
}

function updateSelectedFamily(checkbox) {
    if (!state.selectedFamilyIndices) state.selectedFamilyIndices = [];
    const index = parseInt(checkbox.dataset.index);
    if (checkbox.checked) {
        if (!state.selectedFamilyIndices.includes(index)) {
            state.selectedFamilyIndices.push(index);
        }
    } else {
        state.selectedFamilyIndices = state.selectedFamilyIndices.filter(i => i !== index);
    }
}

function deleteFamilyMember() {
    if (state.familyMembers.length === 0) {
        alert('אין בני משפחה למחיקה');
        return;
    }
    
    if (state.familyDeleteMode === false) {
        state.familyDeleteMode = true;
        state.selectedFamilyIndices = [];
        renderFamilyList();
        return;
    }
    
    if (!state.selectedFamilyIndices || state.selectedFamilyIndices.length === 0) {
        alert('סמן בן משפחה למחיקה');
        return;
    }
    
    // Delete directly without confirm
    const indices = state.selectedFamilyIndices.sort((a, b) => b - a);
    indices.forEach(i => state.familyMembers.splice(i, 1));
    saveToStorage();
    alert('בן המשפחה נמחק!');
    
    state.familyDeleteMode = false;
    state.selectedFamilyIndices = [];
    renderFamilyList();
}

// Global functions for family
window.editFam = function(id) { editFamilyMember(id); };
window.delFam = function(id) { deleteFamilyMember(id); };
window.waFam = function(id) { shareFamilyWhatsApp(id); };
window.emFam = function(id) { shareFamilyEmail(id); };

function editFamilyMember(id) {
    id = Number(id);
    const member = state.familyMembers.find(m => m.id === id);
    if (!member) return;
    
    const newName = prompt('שם:', member.name);
    if (newName === null) return;
    
    const newPhone = prompt('טלפון:', member.phone || '');
    if (newPhone === null) return;
    
    const newDay = prompt('יום נוכחי (0-42):', member.day);
    if (newDay === null) return;
    
    if (newName) {
        member.name = newName;
        member.phone = newPhone;
        member.day = parseInt(newDay) || 0;
        renderFamilyList();
        saveToStorage();
    }
}

function openAddContactModal() {
    openModal('add-contact-modal');
}

function addContact() {
    const name = document.getElementById('contact-name').value;
    const phone = document.getElementById('contact-phone').value;
    
    if (name && phone) {
        state.contacts.push({
            id: Date.now(),
            name,
            phone
        });
        renderContactsList();
        saveToStorage();
        closeModal('add-contact-modal');
        document.getElementById('contact-name').value = '';
        document.getElementById('contact-phone').value = '';
    }
}

function renderContactsList() {
    const list = document.getElementById('contacts-list');
    if (!list) return;
    
    if (!state.contactsDeleteMode) {
        if (state.contacts.length === 0) {
            list.innerHTML = '<div class="empty-state">לא הוספת אנשי קשר עדיין</div>';
            return;
        }
        
        list.innerHTML = state.contacts.map((contact, index) => `
            <div class="contact-card">
                <h3 style="margin: 0 0 5px 0;">${contact.name}</h3>
                <p style="margin: 0;">📱 ${contact.phone}</p>
            </div>
        `).join('');
    } else {
        // Delete mode - show checkboxes
        list.innerHTML = state.contacts.map((contact, index) => `
            <div class="contact-card" style="display: flex; align-items: center; gap: 10px;">
                <input type="checkbox" class="contact-checkbox" data-index="${index}" 
                    onchange="updateSelectedContacts(this)" 
                    ${state.selectedContactIndices && state.selectedContactIndices.includes(index) ? 'checked' : ''}
                    style="width: 20px; height: 20px; cursor: pointer;">
                <div style="flex: 1;">
                    <h3 style="margin: 0 0 5px 0;">${contact.name}</h3>
                    <p style="margin: 0;">📱 ${contact.phone}</p>
                </div>
            </div>
        `).join('');
    }
}

function updateSelectedContacts(checkbox) {
    if (!state.selectedContactIndices) state.selectedContactIndices = [];
    const index = parseInt(checkbox.dataset.index);
    if (checkbox.checked) {
        if (!state.selectedContactIndices.includes(index)) {
            state.selectedContactIndices.push(index);
        }
    } else {
        state.selectedContactIndices = state.selectedContactIndices.filter(i => i !== index);
    }
}

function deleteContact() {
    if (state.contacts.length === 0) {
        alert('אין אנשי קשר למחיקה');
        return;
    }
    
    // First click - enter delete mode and show checkboxes
    if (state.contactsDeleteMode === false) {
        state.contactsDeleteMode = true;
        state.selectedContactIndices = [];
        renderContactsList();
        return;
    }
    
    // Second click - use saved indices
    if (!state.selectedContactIndices || state.selectedContactIndices.length === 0) {
        alert('סמן איש קשר למחיקה');
        return;
    }
    
    // Delete directly without confirm (confirm doesn't work in sandbox)
    const indices = state.selectedContactIndices.sort((a, b) => b - a);
    indices.forEach(i => state.contacts.splice(i, 1));
    saveToStorage();
    alert('איש הקשר נמחק!');
    
    state.contactsDeleteMode = false;
    state.selectedContactIndices = [];
    renderContactsList();
}

// Share with family via WhatsApp
function shareWithFamily(type) {
    const pair = MIDDOT_PAIRS[state.currentDay - 1];
    let message = '';
    
    if (type === 'challenge') {
        const joinedChallenges = state.challenges ? state.challenges.filter(c => c.joined) : [];
        if (joinedChallenges.length === 0) {
            message = '🏆 הצטרפו אליי למסע תומר דבורה!\n\nיש אתגרים מדהימים: שמירת הלשון, תיקון המידות, הכרת הטובה וסבלנות.\n\nבואו להצטרף!';
        } else {
            const challengeNames = joinedChallenges.map(c => c.name).join(', ');
            message = '🏆 אני משתתף/ת באתגרים: ' + challengeNames + '\n\nבואו להצטרף למסע תומר דבורה!';
        }
    } else if (type === 'middah') {
        message = '📖 היום במסע תומר דבורה:\n\nמידה ' + state.currentDay + '/13\n' + pair.avoid.he + '\n\nבואו להצטרף למסע!';
    } else if (type === 'all') {
        const progress = Math.round((state.completedDays.length / 13) * 100);
        message = '📊 ההתקדמות שלי במסע תומר דבורה:\n\n✅ השלמתי ' + state.completedDays.length + ' מתוך 13 מידות (' + progress + '%)\n📍 כרגע במידה ' + state.currentDay + '\n' + pair.avoid.he + '\n\nבואו להצטרף למסע!';
    }
    
    universalShare('תומר דבורה', message);
}

// Global functions for contacts
window.editCon = function(id) { editContact(id); };
window.delCon = function(id) { deleteContact(id); };
window.waCon = function(id) { shareContactWhatsApp(id); };
window.emCon = function(id) { shareContactEmail(id); };

function editContact(id) {
    id = Number(id);
    const contact = state.contacts.find(c => c.id === id);
    if (!contact) return;
    
    const newName = prompt('שם:', contact.name);
    if (newName === null) return;
    
    const newPhone = prompt('טלפון:', contact.phone);
    if (newPhone === null) return;
    
    if (newName && newPhone) {
        contact.name = newName;
        contact.phone = newPhone;
        renderContactsList();
        saveToStorage();
    }
}

function shareViaWhatsApp(phone, type, name) {
    let message = '';
    
    if (type === 'family') {
        message = 'היי ' + name + '! אני עוקב/ת אחר המסע שלך בתיקון המידות. תמשיך/י כך! 💪';
    } else if (type === 'app') {
        message = 'היי! אני משתמש/ת באפליקציה מדהימה לתיקון מידות. בוא/י תצטרף/י!';
    } else if (type === 'challenge') {
        const challenge = state.challenges.find(c => c.id === name);
        if (challenge) {
            message = 'היי! אני מזמין/ה אותך להצטרף לאתגר "' + challenge.name + '" באפליקציית תיקון המידות!';
        }
    }
    
    const cleanPhone = phone.replace(/\D/g, '');
    const whatsappUrl = 'https://wa.me/' + cleanPhone + '?text=' + encodeURIComponent(message);
    
    const a = document.createElement('a');
    a.href = whatsappUrl;
    a.target = '_blank';
    a.rel = 'noopener noreferrer';
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
}

function shareFamilyWhatsApp(id) {
    id = Number(id);
    const member = state.familyMembers.find(m => m.id === id);
    if (member && member.phone) {
        shareViaWhatsApp(member.phone, 'family', member.name);
    }
}

function shareFamilyEmail(id) {
    id = Number(id);
    const member = state.familyMembers.find(m => m.id === id);
    if (member) {
        shareViaEmail('family', member.name);
    }
}

function shareContactWhatsApp(id) {
    id = Number(id);
    const contact = state.contacts.find(c => c.id === id);
    if (contact) {
        shareViaWhatsApp(contact.phone, 'app', '');
    }
}

function shareContactEmail(id) {
    id = Number(id);
    const contact = state.contacts.find(c => c.id === id);
    if (contact) {
        shareViaEmail('app', contact.name);
    }
}

function shareViaEmail(type, name) {
    let subject = '';
    let body = '';
    const appUrl = window.location.href;
    
    if (type === 'family') {
        subject = 'מעקב אחר המסע שלך בתיקון המידות';
        body = `שלום ${name},\n\nאני עוקב/ת אחר המסע שלך בתיקון המידות ורוצה לעודד אותך להמשיך!\n\nקישור לאפליקציה: ${appUrl}\n\nבהצלחה!`;
    } else if (type === 'app') {
        subject = 'הזמנה לאפליקציית תיקון המידות';
        body = `שלום ${name},\n\nאני משתמש/ת באפליקציה מדהימה לתיקון מידות - מסע של 42 יום.\nהיא באמת עוזרת לי לצמוח ולהשתפר!\n\nקישור לאפליקציה: ${appUrl}\n\nבוא/י תצטרף/י!`;
    } else if (type === 'challenge') {
        const challenge = state.challenges.find(c => c.id === parseInt(name));
        if (challenge) {
            subject = `הזמנה לאתגר: ${challenge.name}`;
            body = `שלום,\n\nאני מזמין/ה אותך להצטרף לאתגר "${challenge.name}" באפליקציית תיקון המידות!\n\nקישור לאפליקציה: ${appUrl}\n\nנתראה באתגר!`;
        }
    }
    
    const mailtoUrl = `mailto:?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
    window.open(mailtoUrl, '_blank');
}

function joinChallenge(id) {
    const challenge = state.challenges.find(c => c.id === id);
    if (!challenge) return;
    
    const card = document.getElementById(`challenge-${id}`);
    if (!card) return;
    
    if (!challenge.joined) {
        challenge.joined = true;
        card.classList.add('joined');
        const btn = card.querySelector('.save-btn');
        if (btn) btn.textContent = 'עזוב אתגר';
        saveToStorage();
        alert('הצטרפת לאתגר בהצלחה!');
    } else {
        challenge.joined = false;
        card.classList.remove('joined');
        const btn = card.querySelector('.save-btn');
        if (btn) btn.textContent = 'הצטרף לאתגר';
        saveToStorage();
        alert('עזבת את האתגר');
    }
}

function updateInsights() {
    // Elements removed - function now empty
}

function saveInsightsNotes() {
    state.insightsNotes = document.getElementById('insights-notes').value;
    state.changesNotes = document.getElementById('changes-notes').value;
    saveToStorage();
    alert('התובנות נשמרו!');
}

function toggleDarkMode() {
    state.isDarkMode = !state.isDarkMode;
    document.body.classList.toggle('dark-mode');
    document.getElementById('theme-icon').textContent = state.isDarkMode ? '☀️' : '🌙';
    document.getElementById('theme-text').textContent = state.isDarkMode ? 'בהיר' : 'כהה';
    saveToStorage();
}



function showTab(tab) {
    // Reset delete modes when switching tabs
    state.contactsDeleteMode = false;
    state.familyDeleteMode = false;
    
    const tabs = ['intro', 'instructions', 'middot-table', 'journey', 'community', 'family', 'insights', 'visual', 'history'];
    tabs.forEach(t => {
        const el = document.getElementById(t + '-tab');
        if (el) el.style.display = t === tab ? 'block' : 'none';
    });
    document.querySelectorAll('.tab').forEach((el, i) => {
        el.classList.toggle('active', tabs[i] === tab);
    });
    
    if (tab === 'history') renderHistory();
    if (tab === 'family') renderFamilyList();
    if (tab === 'community') { renderContactsList(); renderChallengeTables(); }
    if (tab === 'insights') updateInsights();
    if (tab === 'visual') renderVisualMap();
    if (tab === 'middot-table') renderMiddotTable();
}

// Render middot table with correct names
function renderMiddotTable() {
    const singleList = document.getElementById('middot-single-list');
    
    // Fallback for original two-column structure
    const avoidList = document.getElementById('avoid-middot-list');
    const doList = document.getElementById('do-middot-list');
    
    if (singleList) {
        // Single column for Tomer Devorah
        singleList.innerHTML = '';
        MIDDOT_PAIRS.forEach(pair => {
            const middahDiv = document.createElement('div');
            middahDiv.style.cssText = 'cursor: pointer; padding: 15px; margin-bottom: 12px; background: white; border-right: 4px solid #f48fb1; border-radius: 10px; transition: all 0.3s; text-align: right;';
            middahDiv.innerHTML = `<strong style="color: #f48fb1;">${pair.day}.</strong> ${pair.avoid.he}`;
            middahDiv.addEventListener('click', function() {
                state.currentDay = pair.day;
                saveToStorage();
                updateDisplay();
                renderProgressMap();
                showTab('journey');
            });
            middahDiv.addEventListener('mouseenter', function() {
                this.style.transform = 'translateX(-5px)';
                this.style.boxShadow = '0 4px 15px rgba(244, 143, 177, 0.3)';
            });
            middahDiv.addEventListener('mouseleave', function() {
                this.style.transform = 'translateX(0)';
                this.style.boxShadow = 'none';
            });
            singleList.appendChild(middahDiv);
        });
    } else if (avoidList && doList) {
        // Two-column for Tikkun Middot
        avoidList.innerHTML = '';
        doList.innerHTML = '';
        
        MIDDOT_PAIRS.forEach(pair => {
            const avoidDiv = document.createElement('div');
            avoidDiv.style.cssText = 'cursor: pointer; padding: 12px; margin-bottom: 10px; background: white; border-right: 4px solid #ffb3c1; border-radius: 8px; transition: all 0.3s;';
            avoidDiv.innerHTML = `<strong>${pair.day}.</strong> ${pair.avoid.he}`;
            avoidDiv.addEventListener('click', function() {
                state.currentDay = pair.day;
                saveToStorage();
                updateDisplay();
                renderProgressMap();
                showTab('journey');
            });
            avoidList.appendChild(avoidDiv);
            
            const doDiv = document.createElement('div');
            doDiv.style.cssText = 'cursor: pointer; padding: 12px; margin-bottom: 10px; background: white; border-right: 4px solid #98d8c8; border-radius: 8px; transition: all 0.3s;';
            doDiv.innerHTML = `<strong>${pair.day}.</strong> ${pair.do.he}`;
            doDiv.addEventListener('click', function() {
                state.currentDay = pair.day;
                saveToStorage();
                updateDisplay();
                renderProgressMap();
                showTab('journey');
            });
            doList.appendChild(doDiv);
        });
    }
}

function goToMiddah(day) {
    state.currentDay = day;
    saveToStorage();
    updateDisplay();
    renderProgressMap();
    showTab('journey');
}

// Make goToMiddah globally accessible
window.goToMiddah = goToMiddah;

// Add note fields in journey tab
function addNoteFields() {
    const container = document.getElementById('additional-notes-container');
    const noteDiv = document.createElement('div');
    noteDiv.className = 'middot-boxes';
    noteDiv.style.cssText = 'margin-top: 20px; padding-top: 20px; border-top: 2px dashed #ffe4e9;';
    
    noteDiv.innerHTML = `
        <div class="middah-box avoid">
            <label style="font-weight: 600; margin-bottom: 8px; display: block; font-size: 0.9em;">האם הייתה מידה כזו היום? אם כן, כיצד פעלת?</label>
            <textarea placeholder="תאר את החוויה שלך..." style="width: 100%; min-height: 80px; padding: 10px; border: 2px solid #ffb3c1; border-radius: 8px; font-family: 'Heebo', sans-serif; font-size: 0.9em; resize: vertical;"></textarea>
        </div>
        <div class="middah-box do-good">
            <label style="font-weight: 600; margin-bottom: 8px; display: block; font-size: 0.9em;">האם הייתה מידה כזו היום? אם כן, כיצד פעלת?</label>
            <textarea placeholder="תאר את החוויה שלך..." style="width: 100%; min-height: 80px; padding: 10px; border: 2px solid #98d8c8; border-radius: 8px; font-family: 'Heebo', sans-serif; font-size: 0.9em; resize: vertical;"></textarea>
        </div>
    `;
    
    container.appendChild(noteDiv);
}

// Render challenge tracking tables
function renderChallengeTables() {
    const challengeDays = {1: 7, 2: 42, 3: 14, 4: 21};
    const today = new Date().toISOString().split('T')[0];
    
    Object.keys(challengeDays).forEach(id => {
        const tbody = document.getElementById(`challenge-${id}-tbody`);
        if (!tbody) return;
        
        tbody.innerHTML = '';
        for (let day = 1; day <= challengeDays[id]; day++) {
            const row = document.createElement('tr');
            row.style.background = day % 2 === 0 ? '#f9f9f9' : 'white';
            row.innerHTML = `
                <td style="padding: 6px; border: 1px solid #ddd; text-align: center; font-weight: 600; width: 40px; min-width: 40px;">${day}</td>
                <td style="padding: 6px; border: 1px solid #ddd; width: 90px; min-width: 90px;"><input type="date" value="${today}" style="width: 80px; padding: 3px; border: 1px solid #ddd; border-radius: 4px; font-size: 11px;"></td>
                <td style="padding: 6px; border: 1px solid #ddd;"><textarea placeholder="מה עשיתי היום?" style="width: 100%; min-height: 50px; padding: 5px; border: 1px solid #ddd; border-radius: 4px; resize: vertical; font-size: 12px; box-sizing: border-box;"></textarea></td>
            `;
            tbody.appendChild(row);
        }
    });
}

// Save challenge as file
function saveChallenge(id) {
    const names = {1: 'שמירת הלשון', 2: 'תיקון המידות', 3: 'הכרת הטובה', 4: 'סבלנות'};
    const challengeName = names[id] || 'אתגר';
    
    let content = 'אתגר: ' + challengeName + '\n';
    content += 'תאריך יצוא: ' + new Date().toLocaleDateString('he-IL') + '\n\n';
    content += 'יום | תאריך | רשימות יומיות\n';
    content += '------------------------\n';
    
    const tbody = document.getElementById('challenge-' + id + '-tbody');
    if (tbody) {
        tbody.querySelectorAll('tr').forEach(row => {
            const day = row.cells[0] ? row.cells[0].textContent : '';
            const dateInput = row.querySelector('input[type="date"]');
            const date = dateInput ? dateInput.value : '';
            const textarea = row.querySelector('textarea');
            const notes = textarea ? textarea.value : '';
            content += day + ' | ' + date + ' | ' + notes + '\n';
        });
    }
    
    // Create and trigger download
    const blob = new Blob(['\ufeff' + content], {type: 'text/plain;charset=utf-8'});
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'אתגר_' + challengeName + '.txt';
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    URL.revokeObjectURL(url);
}

// Share challenge
function shareChallenge(id) {
    const names = {1: 'שמירת הלשון', 2: 'תיקון המידות', 3: 'הכרת הטובה', 4: 'סבלנות'};
    const text = 'אני משתתף/ת באתגר ' + names[id] + '! הצטרפו אליי!';
    universalShare('תומר דבורה - אתגר', text);
}

function openModal(id) {
    document.getElementById(id).classList.add('show');
}

function closeModal(id) {
    document.getElementById(id).classList.remove('show');
}

function clearAllFamily() {
    const count = state.familyMembers.length;
    if (count === 0) {
        alert('אין בני משפחה למחוק');
        return;
    }
    
    if (confirm(`האם למחוק את כל ${count} בני המשפחה?`)) {
        state.familyMembers = [];
        renderFamilyList();
        saveToStorage();
        alert(`✓ נמחקו ${count} בני משפחה בהצלחה!`);
    }
}

function clearAllContacts() {
    const count = state.contacts.length;
    if (count === 0) {
        alert('אין אנשי קשר למחוק');
        return;
    }
    
    if (confirm(`האם למחוק את כל ${count} אנשי הקשר?`)) {
        state.contacts = [];
        renderContactsList();
        saveToStorage();
        alert(`✓ נמחקו ${count} אנשי קשר בהצלחה!`);
    }
}
    </script>
    <div style="text-align: center; padding: 20px; margin-top: 30px; color: #8b7f8e; font-size: 0.85em;">
        כל הזכויות שמורות לרבנית עינת מים מגן
    </div>
</body>
</html>
